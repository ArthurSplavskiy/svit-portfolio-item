{"version":3,"file":"main.js","mappings":";;;;;AAAA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACO,iBAAiB,uBAAuB,+CAA+C,4BAA4B,kDAAkD,qBAAqB,wDAAwD,uBAAuB,kDAAkD,yBAAyB,gDAAgD,qBAAqB;AACha;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACO;AACP,sBAAsB;AACtB;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,yDAAyD,GAAG;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACA;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACO;AACP;AACA;AACA;AACA,sBAAsB,6BAA6B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,wBAAwB,WAAW,MAAM,WAAW;AACpD,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,8BAA8B,eAAe,GAAG,MAAM;AACtD,MAAM;AACN;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA,EAAE;AACF;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACO;AACP;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,0CAA0C,GAAG;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;AC7yBA;AACA;AACsG;AACtG;AACA,YAAY,YAAY;AACxB;AACA,YAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,CAAC,YAAY;AACb,CAAC,WAAW;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,YAAY;AACd,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,4BAA4B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA,uBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iDAAiD,IAAI;AACrD,EAAE;AACF;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,kBAAkB;AACnD;AACA;AACA;AACA;AACA,uBAAuB,4BAA4B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,aAAa,WAAW,aAAa;AAC3D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzbA;AACA;AACA;AACA,CAAC,GAAG,2CAA2C;AAC/C;AACA,CAAC;;ACLD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AACjF,aAAa;AACb,mBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM;AACzC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,MAAM;AAC3C;AACA;AACA,MAAM;AACN;AACA,mCAAmC,MAAM;AACzC,mCAAmC,MAAM;AACzC;AACA,MAAM;AACN;AACA,sCAAsC,MAAM;AAC5C;AACA;AACA;AACA,4CAA4C,kBAAkB;AAC9D;AACA;AACA,kCAAkC,OAAO;AACzC,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA,gCAAgC,OAAO;AACvC,SAAS;AACT;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,kCAAkC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,WAAW,gBAAgB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AC9PD;AAC2E;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,aAAa,UAAU;AACvB,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,2CAA2C,uBAAuB,8CAA8C;AAC5K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,4CAA4C,IAAI,sLAAsL;AAC3S;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,qCAAqC;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,uHAAuH,uCAAuC,YAAY,+GAA+G;AACzR;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,uCAAuC,YAAY,2BAA2B,iCAAiC,wBAAwB;AAC3L;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA,yDAAyD,oEAAoE,EAAE,wEAAwE;AACvM;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wIAAwI,sBAAsB,gBAAgB,aAAa,wBAAwB,6CAA6C;AAChQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4CAA4C,iBAAiB,4CAA4C,uDAAuD,iBAAiB,sBAAsB,iBAAiB,WAAW,4CAA4C;AACxS,IAAI;AACJ;AACA,kLAAkL,8EAA8E;AAChQ;AACA,0CAA0C,4CAA4C,iBAAiB,4CAA4C,iBAAiB,8CAA8C,EAAE,YAAY,IAAI,iBAAiB;AACrP;AACA,EAAE;AACF;AACA;AACA;AACA,2DAA2D,2BAA2B;AACtF,mFAAmF,iBAAiB;AACpG;AACA,gEAAgE,0CAA0C;AAC1G,gEAAgE,2CAA2C;AAC3G;AACA;AACA,gEAAgE,2CAA2C;AAC3G;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,uFAAuF,8BAA8B;AACrH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,qBAAqB,EAAE,2BAA2B,SAAS,oDAAoD;AACrK;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,sFAAsF,qDAAqD;AAC3I;AACA;AACA;AACA,6DAA6D,2BAA2B;AACxF;AACA;AACA,iCAAiC,kBAAkB,SAAS,6CAA6C,EAAE,kBAAkB,EAAE,qBAAqB,gBAAgB,mBAAmB;AACvL;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,kDAAkD,kCAAkC;AACpF,IAAI;AACJ,IAAI,OAAO;AACX;AACA;AACA;AACA,oCAAoC,0EAA0E;AAC9G,iCAAiC,0EAA0E;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,gEAAgE,6CAA6C;AAC7G;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA,+CAA+C;AAC/C;AACA;AACA,iCAAiC,SAAS;AAC1C;AACA;AACA;AACA;;ACxZA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAI,gBAAS;AACb;AACP,CAAC,gBAAS;AACV;AACA;AACA;AACA;AACA,kBAAkB,KAAK;AACvB,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA,EAAE;AACF;AACA,gDAAgD,UAAU;AAC1D,wBAAwB,UAAU;AAClC;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,kFAAkF,oBAAoB,IAAI,oBAAoB,GAAG,IAAI,oEAAoE,oBAAoB,IAAI,kBAAkB,IAAI,oBAAoB,GAAG,IAAI,gEAAgE,kBAAkB,IAAI,4BAA4B,GAAG,IAAI,8DAA8D,qBAAqB,GAAG,IAAI,wEAAwE,oBAAoB,IAAI,kBAAkB,GAAG,IAAI,4DAA4D,oBAAoB,GAAG;AAC9rB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,oBAAoB,oBAAoB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,QAAQ;AACrE,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;ACrIA;AACA;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAI,mBAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yIAAyI,YAAY;AACrJ;;AC5BO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA;AACA,MAAM;AACN,QAAQ,SAAI;AACZ;AACA;AACA;AACA;;AClBe;AACf,sFAAsF;AACtF;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb,UAAU;AACV;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AC1DgD;AAC2B;;AAE5D;AACf;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,cAAc,OAAO,UAAU,EAAE,OAAO;AAC5D,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;;AC9C6G;AACvD;AACf;AACkB;AACI;AACjE;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc,sBAAsB,MAAM;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA,YAAY,mBAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,QAAQ;AAC7C;AACA,YAAY,aAAa;AACzB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC,6BAA6B,QAAQ;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AChMA,WAAW,iCAAiC;;AAE7B;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,YAAY;AACZ;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AC1OsD;AACR;AAC9C;AACA;AACA;AACmC;AACD;AACF;AACD;AACA;AACH;AAC5B;AACA;AACA;AACA;AACyC;AACK;AAC9C;AAC2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAkB;AAClB;AACA;AACA,cAAoB;AACpB,UAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL,CAAC;AACD","sources":["webpack://fls-start/./src/js/core/utils/functions.js","webpack://fls-start/./src/js/core/forms/forms.js","webpack://fls-start/./src/js/core/utils/inline-svg.js","webpack://fls-start/./src/js/core/scroll/lazyload.js","webpack://fls-start/./src/js/core/utils/sliders.js","webpack://fls-start/./src/js/core/forms/select.js","webpack://fls-start/./src/js/core/utils/popups.js","webpack://fls-start/./src/js/core/utils/map.js","webpack://fls-start/./src/js/core/scroll/gotoblock.js","webpack://fls-start/./src/js/components/app/app.functions.js","webpack://fls-start/./src/js/core/classes/ScrollObserver.js","webpack://fls-start/./src/js/core/classes/MovingTiters.js","webpack://fls-start/./src/js/components/app/App.js","webpack://fls-start/./src/js/components/3d/Sketch.js","webpack://fls-start/./src/js/index.js"],"sourcesContent":["/* Проверка поддержки webp, добавление класса webp или no-webp для HTML */\r\nexport function isWebp() {\r\n\t// Проверка поддержки webp\r\n\tfunction testWebP(callback) {\r\n\t\tlet webP = new Image();\r\n\t\twebP.onload = webP.onerror = function () {\r\n\t\t\tcallback(webP.height == 2);\r\n\t\t};\r\n\t\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n\t}\r\n\t// Добавление класса _webp или _no-webp для HTML\r\n\ttestWebP(function (support) {\r\n\t\tlet className = support === true ? 'webp' : 'no-webp';\r\n\t\tdocument.documentElement.classList.add(className);\r\n\t});\r\n}\r\n/* Проверка мобильного браузера */\r\nexport let isMobile = { Android: function () { return navigator.userAgent.match(/Android/i); }, BlackBerry: function () { return navigator.userAgent.match(/BlackBerry/i); }, iOS: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i); }, Opera: function () { return navigator.userAgent.match(/Opera Mini/i); }, Windows: function () { return navigator.userAgent.match(/IEMobile/i); }, any: function () { return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()); } };\r\n/* Добавление класса touch для HTML если браузер мобильный */\r\nexport function addTouchClass() {\r\n\t// Добавление класса _touch для HTML если браузер мобильный\r\n\tif (isMobile.any()) document.documentElement.classList.add('touch');\r\n}\r\n// Добавление loaded для HTML после полной загрузки страницы\r\nexport function addLoadedClass() {\r\n\twindow.addEventListener(\"load\", function () {\r\n\t\tsetTimeout(function () {\r\n\t\t\tdocument.documentElement.classList.add('loaded');\r\n\t\t}, 0);\r\n\t});\r\n}\r\n// Получение хеша в адресе сайта\r\nexport function getHash() {\r\n\tif (location.hash) { return location.hash.replace('#', ''); }\r\n}\r\n// Указание хеша в адресе сайта\r\nexport function setHash(hash) {\r\n\thistory.pushState('', '', hash);\r\n}\r\n// Учет плавающей панели на мобильных устройствах при 100vh\r\nexport function fullVHfix() {\r\n\tconst fullScreens = document.querySelectorAll('[data-fullscreen]');\r\n\tif (fullScreens.length && isMobile.any()) {\r\n\t\twindow.addEventListener('resize', fixHeight);\r\n\t\tfunction fixHeight() {\r\n\t\t\tlet vh = window.innerHeight * 0.01;\r\n\t\t\tdocument.documentElement.style.setProperty('--vh', `${vh}px`);\r\n\t\t}\r\n\t\tfixHeight();\r\n\t}\r\n}\r\n//==== Вспомогательные модули плавного расскрытия и закрытия объекта ======================================================================================================================================================================\r\n// export let _slideUp = (target, duration = 500) => {\r\n// \tif (!target.classList.contains('_slide')) {\r\n// \t\ttarget.classList.add('_slide');\r\n// \t\ttarget.style.transitionProperty = 'height, margin, padding';\r\n// \t\ttarget.style.transitionDuration = duration + 'ms';\r\n// \t\ttarget.style.height = target.offsetHeight + 'px';\r\n// \t\ttarget.offsetHeight;\r\n// \t\ttarget.style.overflow = 'hidden';\r\n// \t\ttarget.style.height = 0;\r\n// \t\ttarget.style.paddingTop = 0;\r\n// \t\ttarget.style.paddingBottom = 0;\r\n// \t\ttarget.style.marginTop = 0;\r\n// \t\ttarget.style.marginBottom = 0;\r\n// \t\twindow.setTimeout(() => {\r\n// \t\t\ttarget.hidden = true;\r\n// \t\t\ttarget.style.removeProperty('height');\r\n// \t\t\ttarget.style.removeProperty('padding-top');\r\n// \t\t\ttarget.style.removeProperty('padding-bottom');\r\n// \t\t\ttarget.style.removeProperty('margin-top');\r\n// \t\t\ttarget.style.removeProperty('margin-bottom');\r\n// \t\t\ttarget.style.removeProperty('overflow');\r\n// \t\t\ttarget.style.removeProperty('transition-duration');\r\n// \t\t\ttarget.style.removeProperty('transition-property');\r\n// \t\t\ttarget.classList.remove('_slide');\r\n// \t\t}, duration);\r\n// \t}\r\n// }\r\n// export let _slideDown = (target, duration = 500) => {\r\n// \tif (!target.classList.contains('_slide')) {\r\n// \t\ttarget.classList.add('_slide');\r\n// \t\tif (target.hidden) {\r\n// \t\t\ttarget.hidden = false;\r\n// \t\t}\r\n// \t\tlet height = target.offsetHeight;\r\n// \t\ttarget.style.overflow = 'hidden';\r\n// \t\ttarget.style.height = 0;\r\n// \t\ttarget.style.paddingTop = 0;\r\n// \t\ttarget.style.paddingBottom = 0;\r\n// \t\ttarget.style.marginTop = 0;\r\n// \t\ttarget.style.marginBottom = 0;\r\n// \t\ttarget.offsetHeight;\r\n// \t\ttarget.style.transitionProperty = \"height, margin, padding\";\r\n// \t\ttarget.style.transitionDuration = duration + 'ms';\r\n// \t\ttarget.style.height = height + 'px';\r\n// \t\ttarget.style.removeProperty('padding-top');\r\n// \t\ttarget.style.removeProperty('padding-bottom');\r\n// \t\ttarget.style.removeProperty('margin-top');\r\n// \t\ttarget.style.removeProperty('margin-bottom');\r\n// \t\twindow.setTimeout(() => {\r\n// \t\t\ttarget.style.removeProperty('height');\r\n// \t\t\ttarget.style.removeProperty('overflow');\r\n// \t\t\ttarget.style.removeProperty('transition-duration');\r\n// \t\t\ttarget.style.removeProperty('transition-property');\r\n// \t\t\ttarget.classList.remove('_slide');\r\n// \t\t}, duration);\r\n// \t}\r\n// }\r\n// export let _slideToggle = (target, duration = 500) => {\r\n// \tif (target.hidden) {\r\n// \t\treturn _slideDown(target, duration);\r\n// \t} else {\r\n// \t\treturn _slideUp(target, duration);\r\n// \t}\r\n// }\r\n\t// SlideToggle ========================================================================================\r\nexport let _slideUp = (target, duration = 500) => {\r\n\tdomElement(target, changeState)\r\n\r\n\tfunction changeState(target) {\r\n\t\ttarget.style.transitionProperty = 'height, margin, padding';\r\n\t\ttarget.style.transitionDuration = duration + 'ms';\r\n\t\ttarget.style.height = target.offsetHeight + 'px';\r\n\t\ttarget.offsetHeight;\r\n\t\ttarget.style.overflow = 'hidden';\r\n\t\ttarget.style.height = 0;\r\n\t\ttarget.style.paddingTop = 0;\r\n\t\ttarget.style.paddingBottom = 0;\r\n\t\ttarget.style.marginTop = 0;\r\n\t\ttarget.style.marginBottom = 0;\r\n\t\twindow.setTimeout(() => {\r\n\t\t\ttarget.style.display = 'none';\r\n\t\t\ttarget.style.removeProperty('height');\r\n\t\t\ttarget.style.removeProperty('padding-top');\r\n\t\t\ttarget.style.removeProperty('padding-bottom');\r\n\t\t\ttarget.style.removeProperty('margin-top');\r\n\t\t\ttarget.style.removeProperty('margin-bottom');\r\n\t\t\ttarget.style.removeProperty('overflow');\r\n\t\t\ttarget.style.removeProperty('transition-duration');\r\n\t\t\ttarget.style.removeProperty('transition-property');\r\n\t\t\ttarget.classList.remove('_slide');\r\n\t\t}, duration);\r\n\t}\r\n}\r\nexport let _slideDown = (target, duration = 500) => {\r\n\tdomElement(target, changeState)\r\n\t\r\n\tfunction changeState(target) {\r\n\t\ttarget.style.removeProperty('display');\r\n\t\tlet display = window.getComputedStyle(target).display;\r\n\t\tif (display === 'none')\r\n\t\t\tdisplay = 'block';\r\n\t\r\n\t\ttarget.style.display = display;\r\n\t\tlet height = target.offsetHeight;\r\n\t\ttarget.style.overflow = 'hidden';\r\n\t\ttarget.style.height = 0;\r\n\t\ttarget.style.paddingTop = 0;\r\n\t\ttarget.style.paddingBottom = 0;\r\n\t\ttarget.style.marginTop = 0;\r\n\t\ttarget.style.marginBottom = 0;\r\n\t\ttarget.offsetHeight;\r\n\t\ttarget.style.transitionProperty = \"height, margin, padding\";\r\n\t\ttarget.style.transitionDuration = duration + 'ms';\r\n\t\ttarget.style.height = height + 'px';\r\n\t\ttarget.style.removeProperty('padding-top');\r\n\t\ttarget.style.removeProperty('padding-bottom');\r\n\t\ttarget.style.removeProperty('margin-top');\r\n\t\ttarget.style.removeProperty('margin-bottom');\r\n\t\twindow.setTimeout(() => {\r\n\t\t\ttarget.style.removeProperty('height');\r\n\t\t\ttarget.style.removeProperty('overflow');\r\n\t\t\ttarget.style.removeProperty('transition-duration');\r\n\t\t\ttarget.style.removeProperty('transition-property');\r\n\t\t\ttarget.classList.remove('_slide');\r\n\t\t}, duration);\r\n\t}\r\n}\r\nexport \tlet _slideToggle = (target, duration = 500) => {\r\n\tdomElement(target, changeState)\r\n\r\n\tfunction changeState (slide) {\r\n\t\tif (!slide.classList.contains('_slide')) {\r\n\t\t\tslide.classList.add('_slide');\r\n\t\t\tif (window.getComputedStyle(slide).display === 'none') {\r\n\t\t\t\treturn _slideDown(slide, duration);\r\n\t\t\t} else {\r\n\t\t\t\treturn _slideUp(slide, duration);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n//==== Вспомогательные модули блокировки прокрутки и скочка ====================================================================================================================================================================================================================================================================================\r\nexport let bodyLockStatus = true;\r\nexport let bodyLockToggle = (delay = 500) => {\r\n\tif (document.documentElement.classList.contains('lock')) {\r\n\t\tbodyUnlock(delay);\r\n\t} else {\r\n\t\tbodyLock(delay);\r\n\t}\r\n}\r\nexport let bodyUnlock = (delay = 500) => {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (bodyLockStatus) {\r\n\t\tlet lock_padding = document.querySelectorAll(\"._lp\");\r\n\t\tsetTimeout(() => {\r\n\t\t\tfor (let index = 0; index < lock_padding.length; index++) {\r\n\t\t\t\tconst el = lock_padding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t\tbody.style.paddingRight = '0px';\r\n\t\t\tdocument.documentElement.classList.remove(\"lock\");\r\n\t\t}, delay);\r\n\t\tbodyLockStatus = false;\r\n\t\tsetTimeout(function () {\r\n\t\t\tbodyLockStatus = true;\r\n\t\t}, delay);\r\n\t}\r\n}\r\nexport let bodyLock = (delay = 500) => {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (bodyLockStatus) {\r\n\t\tlet lock_padding = document.querySelectorAll(\"._lp\");\r\n\t\tfor (let index = 0; index < lock_padding.length; index++) {\r\n\t\t\tconst el = lock_padding[index];\r\n\t\t\tel.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\t\t}\r\n\t\tbody.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\t\tdocument.documentElement.classList.add(\"lock\");\r\n\r\n\t\tbodyLockStatus = false;\r\n\t\tsetTimeout(function () {\r\n\t\t\tbodyLockStatus = true;\r\n\t\t}, delay);\r\n\t}\r\n}\r\n//==== Модуь работы со спойлерами =======================================================================================================================================================================================================================\r\n/*\r\nДля родителя слойлеров пишем атрибут data-spollers\r\nДля заголовков слойлеров пишем атрибут data-spoller\r\nЕсли нужно включать\\выключать работу спойлеров на разных размерах экранов\r\nпишем параметры ширины и типа брейкпоинта.\r\n\r\nНапример: \r\ndata-spollers=\"992,max\" - спойлеры будут работать только на экранах меньше или равно 992px\r\ndata-spollers=\"768,min\" - спойлеры будут работать только на экранах больше или равно 768px\r\n\r\nЕсли нужно что бы в блоке открывался болько один слойлер добавляем атрибут data-one-spoller\r\n*/\r\nexport function spollers() {\r\n\tconst spollersArray = document.querySelectorAll('[data-spollers]');\r\n\tif (spollersArray.length > 0) {\r\n\t\t// Получение обычных слойлеров\r\n\t\tconst spollersRegular = Array.from(spollersArray).filter(function (item, index, self) {\r\n\t\t\treturn !item.dataset.spollers.split(\",\")[0];\r\n\t\t});\r\n\t\t// Инициализация обычных слойлеров\r\n\t\tif (spollersRegular.length > 0) {\r\n\t\t\tinitSpollers(spollersRegular);\r\n\t\t}\r\n\t\t// Получение слойлеров с медиа запросами\r\n\t\tconst spollersMedia = Array.from(spollersArray).filter(function (item, index, self) {\r\n\t\t\treturn item.dataset.spollers.split(\",\")[0];\r\n\t\t});\r\n\t\t// Инициализация слойлеров с медиа запросами\r\n\t\tif (spollersMedia.length > 0) {\r\n\t\t\tconst breakpointsArray = [];\r\n\t\t\tspollersMedia.forEach(item => {\r\n\t\t\t\tconst params = item.dataset.spollers;\r\n\t\t\t\tconst breakpoint = {};\r\n\t\t\t\tconst paramsArray = params.split(\",\");\r\n\t\t\t\tbreakpoint.value = paramsArray[0];\r\n\t\t\t\tbreakpoint.type = paramsArray[1] ? paramsArray[1].trim() : \"max\";\r\n\t\t\t\tbreakpoint.item = item;\r\n\t\t\t\tbreakpointsArray.push(breakpoint);\r\n\t\t\t});\r\n\t\t\t// Получаем уникальные брейкпоинты\r\n\t\t\tlet mediaQueries = breakpointsArray.map(function (item) {\r\n\t\t\t\treturn '(' + item.type + \"-width: \" + item.value + \"px),\" + item.value + ',' + item.type;\r\n\t\t\t});\r\n\t\t\tmediaQueries = mediaQueries.filter(function (item, index, self) {\r\n\t\t\t\treturn self.indexOf(item) === index;\r\n\t\t\t});\r\n\t\t\t// Работаем с каждым брейкпоинтом\r\n\t\t\tmediaQueries.forEach(breakpoint => {\r\n\t\t\t\tconst paramsArray = breakpoint.split(\",\");\r\n\t\t\t\tconst mediaBreakpoint = paramsArray[1];\r\n\t\t\t\tconst mediaType = paramsArray[2];\r\n\t\t\t\tconst matchMedia = window.matchMedia(paramsArray[0]);\r\n\t\t\t\t// Объекты с нужными условиями\r\n\t\t\t\tconst spollersArray = breakpointsArray.filter(function (item) {\r\n\t\t\t\t\tif (item.value === mediaBreakpoint && item.type === mediaType) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// Событие\r\n\t\t\t\tmatchMedia.addEventListener(\"change\", function () {\r\n\t\t\t\t\tinitSpollers(spollersArray, matchMedia);\r\n\t\t\t\t});\r\n\t\t\t\tinitSpollers(spollersArray, matchMedia);\r\n\t\t\t});\r\n\t\t}\r\n\t\t// Инициализация\r\n\t\tfunction initSpollers(spollersArray, matchMedia = false) {\r\n\t\t\tspollersArray.forEach(spollersBlock => {\r\n\t\t\t\tspollersBlock = matchMedia ? spollersBlock.item : spollersBlock;\r\n\t\t\t\tif (matchMedia.matches || !matchMedia) {\r\n\t\t\t\t\tspollersBlock.classList.add('_spoller-init');\r\n\t\t\t\t\tinitSpollerBody(spollersBlock);\r\n\t\t\t\t\tspollersBlock.addEventListener(\"click\", setSpollerAction);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tspollersBlock.classList.remove('_spoller-init');\r\n\t\t\t\t\tinitSpollerBody(spollersBlock, false);\r\n\t\t\t\t\tspollersBlock.removeEventListener(\"click\", setSpollerAction);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t// Работа с контентом\r\n\t\tfunction initSpollerBody(spollersBlock, hideSpollerBody = true) {\r\n\t\t\tconst spollerTitles = spollersBlock.querySelectorAll('[data-spoller]');\r\n\t\t\tif (spollerTitles.length > 0) {\r\n\t\t\t\tspollerTitles.forEach(spollerTitle => {\r\n\t\t\t\t\tif (hideSpollerBody) {\r\n\t\t\t\t\t\tspollerTitle.removeAttribute('tabindex');\r\n\t\t\t\t\t\tif (!spollerTitle.classList.contains('_spoller-active')) {\r\n\t\t\t\t\t\t\tspollerTitle.nextElementSibling.hidden = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tspollerTitle.setAttribute('tabindex', '-1');\r\n\t\t\t\t\t\tspollerTitle.nextElementSibling.hidden = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction setSpollerAction(e) {\r\n\t\t\tconst el = e.target;\r\n\t\t\tif (el.hasAttribute('data-spoller') || el.closest('[data-spoller]')) {\r\n\t\t\t\tconst spollerTitle = el.hasAttribute('data-spoller') ? el : el.closest('[data-spoller]');\r\n\t\t\t\tconst spollersBlock = spollerTitle.closest('[data-spollers]');\r\n\t\t\t\tconst oneSpoller = spollersBlock.hasAttribute('data-one-spoller') ? true : false;\r\n\t\t\t\tif (!spollersBlock.querySelectorAll('._slide').length) {\r\n\t\t\t\t\tif (oneSpoller && !spollerTitle.classList.contains('_spoller-active')) {\r\n\t\t\t\t\t\thideSpollersBody(spollersBlock);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tspollerTitle.classList.toggle('_spoller-active');\r\n\t\t\t\t\t_slideToggle(spollerTitle.nextElementSibling, spollersBlock.dataset.duration ? spollersBlock.dataset.duration : 500);\r\n\t\t\t\t}\r\n\t\t\t\t//e.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction hideSpollersBody(spollersBlock) {\r\n\t\t\tconst spollerActiveTitle = spollersBlock.querySelector('[data-spoller]._spoller-active');\r\n\t\t\tif (spollerActiveTitle) {\r\n\t\t\t\tspollerActiveTitle.classList.remove('_spoller-active');\r\n\t\t\t\t_slideUp(spollerActiveTitle.nextElementSibling, spollersBlock.dataset.duration ? spollersBlock.dataset.duration : 500);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n//==== Модуь работы с табами =======================================================================================================================================================================================================================\r\n/*\r\nДля родителя табов пишем атрибут data-tabs\r\nДля родителя заголовков табов пишем атрибут data-tabs-titles\r\nДля родителя блоков табов пишем атрибут data-tabs-body\r\n\r\nЕсли нужно чтобы табы открывались с анимацией \r\nдобавляем к data-tabs data-tabs-animate\r\nПо умолчанию, скорость анимации 500ms, \r\nуказать свою скорость можно так: data-tabs-animate=\"1000\"\r\n\r\nЕсли нужно чтобы табы превращались в \"спойлеры\" на неком размере экранов пишем параметры ширины.\r\nНапример: data-tabs=\"992\" - табы будут превращаться в спойлеры на экранах меньше или равно 992px\r\n*/\r\nexport function tabs() {\r\n\tconst tabs = document.querySelectorAll('[data-tabs]');\r\n\t//let tabsActiveHash = [];\r\n\r\n\tif (tabs.length > 0) {\r\n\t\t// const hash = location.hash.replace('#', '');\r\n\t\t// if (hash.startsWith('tab-')) {\r\n\t\t// \ttabsActiveHash = hash.replace('tab-', '').split('-');\r\n\t\t// }\r\n\t\ttabs.forEach((tabsBlock, index) => {\r\n\t\t\ttabsBlock.classList.add('_tab-init');\r\n\t\t\ttabsBlock.setAttribute('data-tabs-index', index);\r\n\t\t\ttabsBlock.addEventListener(\"click\", setTabsAction);\r\n\t\t\tinitTabs(tabsBlock);\r\n\t\t});\r\n\r\n\t\t// Получение табов с медиа запросами\r\n\t\tconst tabsMedia = Array.from(tabs).filter(function (item, index, self) {\r\n\t\t\treturn item.dataset.tabs;\r\n\t\t});\r\n\t\t// Инициализация табов с медиа запросами\r\n\t\tif (tabsMedia.length > 0) {\r\n\t\t\tinitMediaTabs(tabsMedia);\r\n\t\t}\r\n\t}\r\n\t// Инициализация табов с медиа запросами\r\n\tfunction initMediaTabs(tabsMedia) {\r\n\t\tconst breakpointsArray = [];\r\n\t\ttabsMedia.forEach(item => {\r\n\t\t\tconst breakpointValue = item.dataset.tabs;\r\n\r\n\t\t\tconst tabsBreakpointsObject = {};\r\n\t\t\ttabsBreakpointsObject.value = breakpointValue;\r\n\t\t\ttabsBreakpointsObject.item = item;\r\n\r\n\t\t\tbreakpointsArray.push(tabsBreakpointsObject);\r\n\t\t});\r\n\r\n\t\t// Получаем уникальные брейкпоинты\r\n\t\tlet mediaQueries = breakpointsArray.map(function (item) {\r\n\t\t\treturn `(max-width:${item.value}px),${item.value}`;\r\n\t\t});\r\n\t\tmediaQueries = mediaQueries.filter(function (item, index, self) {\r\n\t\t\treturn self.indexOf(item) === index;\r\n\t\t});\r\n\r\n\t\t// Работаем с каждым брейкпоинтом\r\n\t\tmediaQueries.forEach(breakpoint => {\r\n\t\t\tconst paramsArray = breakpoint.split(\",\");\r\n\t\t\tconst matchMedia = window.matchMedia(paramsArray[0]);\r\n\t\t\tconst mediaBreakpoint = paramsArray[1];\r\n\r\n\t\t\t// Объекты с нужными условиями\r\n\t\t\tconst tabsMediaArray = breakpointsArray.filter(function (item) {\r\n\t\t\t\tif (item.value === mediaBreakpoint) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Событие\r\n\t\t\tmatchMedia.addEventListener(\"change\", function () {\r\n\t\t\t\tsetTitlePosition(tabsMediaArray, matchMedia);\r\n\t\t\t});\r\n\t\t\tsetTitlePosition(tabsMediaArray, matchMedia);\r\n\t\t});\r\n\t}\r\n\t// Установка позиций заголовков\r\n\tfunction setTitlePosition(tabsMediaArray, matchMedia) {\r\n\t\ttabsMediaArray.forEach(tabsMediaItem => {\r\n\t\t\ttabsMediaItem = tabsMediaItem.item;\r\n\t\t\tconst tabsTitles = tabsMediaItem.querySelector('[data-tabs-titles]');\r\n\t\t\tconst tabsTitleItems = tabsMediaItem.querySelectorAll('[data-tabs-title]');\r\n\t\t\tconst tabsContent = tabsMediaItem.querySelector('[data-tabs-body]');\r\n\t\t\tconst tabsContentItems = tabsMediaItem.querySelectorAll('[data-tabs-item]');\r\n\t\t\ttabsContentItems.forEach((tabsContentItem, index) => {\r\n\t\t\t\tif (matchMedia.matches) {\r\n\t\t\t\t\ttabsContent.append(tabsTitleItems[index]);\r\n\t\t\t\t\ttabsContent.append(tabsContentItem);\r\n\t\t\t\t\ttabsMediaItem.classList.add('_tab-spoller');\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttabsTitles.append(tabsTitleItems[index]);\r\n\t\t\t\t\ttabsMediaItem.classList.remove('_tab-spoller');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t// Работа с контентом\r\n\tfunction initTabs(tabsBlock) {\r\n\t\tconst tabsTitles = tabsBlock.querySelectorAll('[data-tabs-titles]>*');\r\n\t\tconst tabsContent = tabsBlock.querySelectorAll('[data-tabs-body]>*');\r\n\t\tconst tabsBlockIndex = tabsBlock.dataset.tabsIndex;\r\n\t\t//const tabsActiveHashBlock = tabsActiveHash[0] == tabsBlockIndex;\r\n\r\n\t\t// if (tabsActiveHashBlock) {\r\n\t\t// \tconst tabsActiveTitle = tabsBlock.querySelector('[data-tabs-titles]>._tab-active');\r\n\t\t// \ttabsActiveTitle.classList.remove('_tab-active');\r\n\t\t// }\r\n\t\tif (tabsContent.length > 0) {\r\n\t\t\ttabsContent.forEach((tabsContentItem, index) => {\r\n\t\t\t\ttabsTitles[index].setAttribute('data-tabs-title', '');\r\n\t\t\t\ttabsContentItem.setAttribute('data-tabs-item', '');\r\n\r\n\t\t\t\t// if (tabsActiveHashBlock && index == tabsActiveHash[1]) {\r\n\t\t\t\t// \ttabsTitles[index].classList.add('_tab-active');\r\n\t\t\t\t// }\r\n\t\t\t\ttabsContentItem.hidden = !tabsTitles[index].classList.contains('_tab-active');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tfunction setTabsStatus(tabsBlock) {\r\n\t\tconst tabsTitles = tabsBlock.querySelectorAll('[data-tabs-title]');\r\n\t\tconst tabsContent = tabsBlock.querySelectorAll('[data-tabs-item]');\r\n\t\tconst tabsBlockIndex = tabsBlock.dataset.tabsIndex;\r\n\r\n\t\tfunction isTabsAnamate(tabsBlock) {\r\n\t\t\tif (tabsBlock.hasAttribute('data-tabs-animate')) {\r\n\t\t\t\treturn tabsBlock.dataset.tabsAnimate > 0 ? tabsBlock.dataset.tabsAnimate : 500;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst tabsBlockAnimate = isTabsAnamate(tabsBlock);\r\n\r\n\t\tif (tabsContent.length > 0) {\r\n\t\t\ttabsContent.forEach((tabsContentItem, index) => {\r\n\t\t\t\tif (tabsTitles[index].classList.contains('_tab-active')) {\r\n\t\t\t\t\tif (tabsBlockAnimate) {\r\n\t\t\t\t\t\t_slideDown(tabsContentItem, tabsBlockAnimate);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttabsContentItem.hidden = false;\r\n\t\t\t\t\t\ttabsContentItem.classList.add('_active');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//location.hash = `tab-${tabsBlockIndex}-${index}`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (tabsBlockAnimate) {\r\n\t\t\t\t\t\t_slideUp(tabsContentItem, tabsBlockAnimate);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttabsContentItem.hidden = true;\r\n\t\t\t\t\t\ttabsContentItem.classList.remove('_active');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tfunction setTabsAction(e) {\r\n\t\tconst el = e.target;\r\n\t\tif (el.closest('[data-tabs-title]') || el.hasAttribute('[data-tabs-title]')) {\r\n\t\t\tconst tabTitle = el;\r\n\t\t\tconst tabsBlock = tabTitle.closest('[data-tabs]');\r\n\t\t\tif (!tabTitle.classList.contains('_tab-active') && !tabsBlock.querySelectorAll('._slide').length) {\r\n\r\n\t\t\t\tconst tabActiveTitle = tabsBlock.querySelector('[data-tabs-title]._tab-active');\r\n\t\t\t\tif (tabActiveTitle) {\r\n\t\t\t\t\ttabActiveTitle.classList.remove('_tab-active');\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttabTitle.classList.add('_tab-active');\r\n\t\t\t\tsetTabsStatus(tabsBlock);\r\n\t\t\t}\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n}\r\n// Модуль \"показать еще\" (в работе) =======================================================================================================================================================================================================================\r\n\r\n/*\r\nДокументация по работе в шаблоне:\r\nДокументация плагина:\r\nСниппет (HTML): \r\n*/\r\nexport function showMore() {\r\n\r\n}\r\n//================================================================================================================================================================================================================================================================================================================\r\n// Прочие полезные функции ================================================================================================================================================================================================================================================================================================================\r\n//================================================================================================================================================================================================================================================================================================================\r\n\r\n// Получить цифры из строки\r\nexport function getDigFromString(item) {\r\n\treturn parseInt(item.replace(/[^\\d]/g, ''))\r\n}\r\n// Форматирование цифр типа 100 000 000\r\nexport function getDigFormat(item) {\r\n\treturn item.toString().replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, \"$1 \");\r\n}\r\n// Уникализация массива\r\nexport function uniqArray(array) {\r\n\treturn array.filter(function (item, index, self) {\r\n\t\treturn self.indexOf(item) === index;\r\n\t});\r\n}\r\n\r\nexport function setPhoneMask() {\r\n\tconst phoneInputs = document.querySelectorAll('input[data-phone-mask]');\r\n\r\n\tif(phoneInputs) {\r\n\t\tphoneInputs.forEach(phoneInput => {\r\n\t\t\tif (phoneInput) {\r\n\t\t\t\t//'+7(999) 999 9999'\r\n\t\t\t\t//'+38(999) 999 9999'\r\n\t\t\t\t//'+375(99)999-99-99'\r\n\t\t\t\tphoneInput.classList.add('_mask');\r\n\t\t\t\tInputmask(\"+380 999 999 999\", {\r\n\t\t\t\t\tshowMaskOnHover: false,\r\n\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\tphoneInput.inputmask.remove();\r\n\t\t\t\t\t\tphoneInput.value = ''\r\n\t\t\t\t\t}\r\n\t\t\t\t}).mask(phoneInput);\r\n\r\n\t\t\t\tphoneInput.addEventListener('blur', () => {\r\n\t\t\t\t\tphoneInput.placeholder = ''\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function setDateMask() {\r\n\tconst phoneInputs = document.querySelectorAll('input[data-date-mask]');\r\n\r\n\tif(phoneInputs) {\r\n\t\tphoneInputs.forEach(dateInput => {\r\n\t\t\tif (dateInput) {\r\n\t\t\t\tdatepicker(dateInput, {\r\n\t\t\t\t\tcustomDays: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\r\n\t\t\t\t\tcustomMonths: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\r\n\t\t\t\t\tformatter: (input, date, instance) => {\r\n\t\t\t\t\t\tconst value = date.toLocaleDateString()\r\n\t\t\t\t\t\tinput.value = value\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonSelect: function (input, instance, date) {\r\n\t\t\t\t\t\tinput_focus_add(input.el);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n//============================================================================================================================\r\n\r\n// Tabs ===============================================================================================\t\t\r\nexport function tabsAdaptive() {\r\n\tlet tabs = document.querySelectorAll(\"._tabs\");\r\n\tfor (let index = 0; index < tabs.length; index++) {\r\n\t\tlet tab = tabs[index];\r\n\t\tlet tabs_items = tab.querySelectorAll(\"._tabs-item\");\r\n\t\tlet tabs_blocks = tab.querySelectorAll(\"._tabs-block\");\r\n\t\tfor (let index = 0; index < tabs_items.length; index++) {\r\n\t\t\tlet tabs_item = tabs_items[index];\r\n\t\t\ttabs_item.addEventListener(\"click\", function (e) {\r\n\t\t\t\tfor (let index = 0; index < tabs_items.length; index++) {\r\n\t\t\t\t\tlet tabs_item = tabs_items[index];\r\n\t\t\t\t\ttabs_item.classList.remove('_active');\r\n\t\t\t\t\ttabs_blocks[index].classList.remove('_active');\r\n\t\t\t\t}\r\n\t\t\t\ttabs_item.classList.add('_active');\r\n\t\t\t\ttabs_blocks[index].classList.add('_active');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst matchMedia = window.matchMedia('(max-width: 768px)')\r\n\r\n\tmatchMedia.addListener(function () {\r\n\t\tinit(matchMedia);\r\n\t});\r\n\tinit(matchMedia)\r\n\t\r\n\tfunction init(matchMedia = false) {\r\n\t\tif (matchMedia.matches || !matchMedia) {\r\n\t\t\ttabsMobileBody()\r\n\t\t}\r\n\t}\r\n\r\n\tfunction tabsMobileBody() {\r\n\t\tlet tabsMobile = document.querySelectorAll('._tabs-mobile');\r\n\t\tfor (let index = 0; index < tabsMobile.length; index++) {\r\n\t\t\tlet tab = tabsMobile[index];\r\n\t\t\tlet value = tab.querySelector('.tabs-mobile__value');\r\n\t\t\tlet tabs_items = tab.querySelectorAll(\"._tabs-item\");\r\n\t\t\tlet item_active = tab.querySelector(\"._tabs-item._active\");\r\n\t\t\tlet tabs_nav = tab.querySelector('.tabs-block__nav');\r\n\t\t\tvalue.innerHTML = item_active.innerHTML\r\n\t\r\n\t\t\tvalue.addEventListener(\"click\", () => {\r\n\t\t\t\tvalue.classList.toggle('_active')\r\n\t\t\t\t_slideToggle(tabs_nav);\r\n\t\t\t})\r\n\t\r\n\t\t\tfor (let index = 0; index < tabs_items.length; index++) {\r\n\t\t\t\tlet tabs_item = tabs_items[index];\r\n\r\n\t\t\t\tconst clickHandler = () => {\r\n\t\t\t\t\tlet item_active = tab.querySelector(\"._tabs-item._active\");\r\n\t\t\t\t\tvalue.innerHTML = item_active.innerHTML;\r\n\t\t\t\t\tif (matchMedia.matches || !matchMedia) {\r\n\t\t\t\t\t\t_slideUp(tabs_nav);\t\t\r\n\t\t\t\t\t}\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttabs_item.addEventListener(\"click\", clickHandler);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n// ====================================================================================================\r\n\r\n// FLOAT FORM LABEL ===================================================================================\r\nexport function setFloatLabels() {\r\n\tconst floatLabels = document.querySelectorAll('[data-float-label]')\r\n\r\n\tconst init = (el) => {\r\n\t\tfloatLabels.forEach(label => {\r\n\t\t\tconst element = label.querySelector(`${el}`)\r\n\t\t\tconst contentName = label.querySelector('.content-name')\r\n\t\r\n\t\t\tif(element && element.value) {\r\n\t\t\t\tcontentName.classList.add('_active')\r\n\t\t\t}\r\n\t\r\n\t\t\tif(element) {\r\n\t\t\t\telement.addEventListener('focus', () => {\r\n\t\t\t\t\tcontentName.classList.add('_active')\r\n\t\t\t\t})\r\n\t\t\t\telement.addEventListener('blur', () => {\r\n\t\t\t\t\tif(!element.value) {\r\n\t\t\t\t\t\tcontentName.classList.remove('_active')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontentName.classList.add('_active')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tinit('input')\r\n\tinit('textarea')\r\n}\r\n// ====================================================================================================\r\n\r\n// INPUT TYPE FILE ===================================================================================\r\nexport function setFileInputs() {\r\n\tconst fileInputs = document.querySelectorAll('[data-input-file]') \r\n\r\n\tif(fileInputs.length > 0) {\r\n\t\tfor(let i = 0; i < fileInputs.length; i++) {\r\n\t\t\tconst fileInputContainer = fileInputs[i];\r\n\t\t\tconst inputFile = fileInputContainer.querySelector('input');\r\n\t\t\tconst fileButton = fileInputContainer.querySelector('.icon-pin');\r\n\t\t\tconst filePreview = fileInputContainer.querySelector('.message-text');\r\n\t\t\tconst maxSizeError = inputFile.getAttribute('data-error-max-size');\r\n\t\t\tconst placeholder = inputFile.getAttribute('data-placeholder');\r\n\t\t\tfilePreview.innerHTML = placeholder\r\n\t\r\n\t\t\t// remove file preview\r\n\t\t\tfileButton.onclick = () => {\r\n\t\t\t\tif(inputFile.classList.contains('full')) {\r\n\t\t\t\t\tinputFile.classList.remove('full')\r\n\t\t\t\t\tinputFile.value = '';\r\n\t\t\t\t\tfilePreview.innerHTML = placeholder\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\r\n\t\t\tinputFile.addEventListener('change', () => {\r\n\t\t\t\t//form_remove_error(inputFile);\r\n\t\t\t\tuploadFile(inputFile.files[0]);\r\n\t\t\t});\r\n\t\r\n\t\t\tfunction uploadFile(file) {\r\n\t\t\t\r\n\t\t\t\tif (!['application/pdf', 'image/png', 'application/msword'].includes(file.type)) {\r\n\t\t\t\t\t//form_add_error(inputFile)\r\n\t\t\t\t\tinputFile.value = '';\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t// проверим размер файла (<2 Мб)\r\n\t\t\t\tif (file.size > 2 * 1024 * 1024) {\r\n\t\t\t\t\t//form_add_error(inputFile)\r\n\t\t\t\t\tfileInputContainer.querySelector('.form__error').innerHTML = maxSizeError;\r\n\t\t\t\t\tinputFile.value = '';\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tinputFile.classList.add('full')\r\n\t\t\t\tfilePreview.innerHTML = file.name\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n// ====================================================================================================\r\n\r\nexport function isTarget (eventTarget, target) {\r\n\tlet $target\r\n\tif (typeof target === 'string') {\r\n\t\t$target = document.querySelector(target)\r\n\t}\r\n\tif ($target === eventTarget) {\r\n\t\treturn $target\r\n\t} else if (eventTarget.closest(target)) {\r\n\t\treturn eventTarget.closest(target)\r\n\t} else {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport function removeClasses(array, className) {\r\n\tlet $array\r\n\tif (typeof array === 'string') {\r\n\t\t$array = document.querySelectorAll(array)\r\n\t} else {\r\n\t\t$array = array\r\n\t}\r\n\tfor (var i = 0; i < $array.length; i++) {\r\n\t\t$array[i].classList.remove(className);\r\n\t}\r\n}\r\n\r\nexport function domElement(target, callback) {\r\n\tif (target instanceof NodeList) {\r\n\t\ttarget.forEach(el => callback(el))\r\n\t} else if (target instanceof Array) {\r\n\t\tArray.from(target).forEach(el => callback(el))\r\n\t} else if (typeof target === 'string') {\r\n\t\tconst $target = document.querySelectorAll(target)\r\n\r\n\t\tif($target instanceof NodeList) {\r\n\t\t\t$target.forEach(el => callback(el))\r\n\t\t} else {\r\n\t\t\tcallback($target)\r\n\t\t}\r\n\t} else {\r\n\t\tcallback(target)\r\n\t}\r\n}\r\n\r\n","// Импорт функционала ==============================================================================================================================================================================================================================================================================================================================\r\n// Вспомогательные функции\r\nimport { _slideUp, _slideDown, _slideToggle, setPhoneMask, setDateMask } from \"../utils/functions.js\";\r\n// Модуль попапа\r\n// import { popupItem } from \"../utils/popups.js\";\r\n// Модуль прокрутки к блоку\r\n// import { gotoBlock } from \"../scroll/gotoblock.js\";\r\n//==============================================================================================================================================================================================================================================================================================================================\r\n\r\n/*\r\nЧтобы поле участвовало в валидации добавляем атрибут data-required\r\nОсобые проверки:\r\ndata-required=\"email\" - вадидация E-mail\r\n\r\nЧтобы поле валидировалось при потере фокуса, \r\nк атрибуту data-required добавляем атрибут data-validate\r\n*/\r\n\r\n// Работа с полями формы. Добавление классов, работа с placeholder\r\nexport function formFieldsInit() {\r\n\tconst formFields = document.querySelectorAll('input[placeholder],textarea[placeholder]');\r\n\r\n\tsetPhoneMask()\r\n\tsetDateMask()\r\n\t//setFloatLabels()\r\n\t//setFileInputs()\r\n\r\n\tif (formFields.length) {\r\n\t\tformFields.forEach(formField => {\r\n\t\t\tformField.dataset.placeholder = formField.placeholder;\r\n\t\t});\r\n\t}\r\n\tdocument.body.addEventListener(\"focusin\", function (e) {\r\n\t\tconst targetElement = e.target;\r\n\t\tif ((targetElement.tagName === 'INPUT' || targetElement.tagName === 'TEXTAREA')) {\r\n\t\t\tif (targetElement.dataset.placeholder) {\r\n\t\t\t\ttargetElement.placeholder = '';\r\n\t\t\t}\r\n\t\t\ttargetElement.classList.add('_focus');\r\n\t\t\ttargetElement.parentElement.classList.add('_focus');\r\n\r\n\t\t\tformValidate.removeError(targetElement);\r\n\t\t}\r\n\r\n\t\tsetPhoneMask()\r\n\t});\r\n\tdocument.body.addEventListener(\"focusout\", function (e) {\r\n\t\tconst targetElement = e.target;\r\n\t\tif ((targetElement.tagName === 'INPUT' || targetElement.tagName === 'TEXTAREA')) {\r\n\t\t\tif (targetElement.dataset.placeholder) {\r\n\t\t\t\ttargetElement.placeholder = targetElement.dataset.placeholder;\r\n\t\t\t}\r\n\t\t\ttargetElement.classList.remove('_focus');\r\n\t\t\ttargetElement.parentElement.classList.remove('_focus');\r\n\r\n\t\t\t// Моментальная валидация\r\n\t\t\tif (targetElement.hasAttribute('data-validate')) {\r\n\t\t\t\tformValidate.validateInput(targetElement);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n// Валидация форм\r\nexport let formValidate = {\r\n\tgetErrors(form) {\r\n\t\tlet error = 0;\r\n\t\tlet formRequiredItems = form.querySelectorAll('*[data-required]');\r\n\t\tif (formRequiredItems.length) {\r\n\t\t\tformRequiredItems.forEach(formRequiredItem => {\r\n\t\t\t\tif (formRequiredItem.offsetParent !== null) {\r\n\t\t\t\t\terror += this.validateInput(formRequiredItem);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn error;\r\n\t},\r\n\tvalidateInput(formRequiredItem) {\r\n\t\tlet error = 0;\r\n\t\tif (formRequiredItem.dataset.required === \"email\") {\r\n\t\t\tformRequiredItem.value = formRequiredItem.value.replace(\" \", \"\");\r\n\t\t\tif (this.emailTest(formRequiredItem)) {\r\n\t\t\t\tif(!formRequiredItem.value) {\r\n\t\t\t\t\tthis.addError(formRequiredItem);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addUncorrectError(formRequiredItem);\r\n\t\t\t\t}\r\n\t\t\t\terror++;\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeError(formRequiredItem);\r\n\t\t\t}\r\n\t\t} else if (formRequiredItem.type === \"checkbox\" && !formRequiredItem.checked) {\r\n\t\t\tthis.addError(formRequiredItem);\r\n\t\t\terror++;\r\n\t\t} else if (formRequiredItem.dataset.required === \"select\") {\r\n\t\t\t//formRequiredItem.value = formRequiredItem.value.replace(\" \", \"\");\r\n\t\t\tlet selectDefault = formRequiredItem.querySelector('.select__option[hidden]')\r\n\r\n\t\t\tif(+selectDefault.dataset.value === 1) {\r\n\t\t\t\tthis.addError(formRequiredItem);\r\n\t\t\t\terror++;\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeError(formRequiredItem);\r\n\t\t\t}\r\n\t\t}  else if (formRequiredItem.dataset.required === \"password\") {\r\n\t\t\tformRequiredItem.value = formRequiredItem.value.replace(\" \", \"\");\r\n\r\n\t\t\tif(!formRequiredItem.value) {\r\n\t\t\t\tthis.addError(formRequiredItem);\r\n\t\t\t\terror++;\r\n\t\t\t} else if(this.passwordTest(formRequiredItem)) {\r\n\t\t\t\tthis.addPasswordError(formRequiredItem);\r\n\t\t\t\terror++;\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeError(formRequiredItem);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (!formRequiredItem.value) {\r\n\t\t\t\tthis.addError(formRequiredItem);\r\n\t\t\t\terror++;\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeError(formRequiredItem);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn error;\r\n\t},\r\n\taddError(formRequiredItem) {\r\n\t\tformRequiredItem.classList.add('_error');\r\n\t\tformRequiredItem.parentElement.classList.add('_error');\r\n\t\tlet inputError = formRequiredItem.parentElement.querySelector('.form__error');\r\n\t\tif (inputError) formRequiredItem.parentElement.removeChild(inputError);\r\n\t\tif (validationUnfillError && formRequiredItem.type !== \"checkbox\") {\r\n\t\t\tformRequiredItem.parentElement.insertAdjacentHTML('beforeend', '<div class=\"form__error\">' + validationUnfillError + '</div>');\r\n\t\t}\r\n\t},\r\n\taddUncorrectError(formRequiredItem) {\r\n\t\tformRequiredItem.classList.add('_error');\r\n\t\tformRequiredItem.parentElement.classList.add('_error');\r\n\t\tlet inputError = formRequiredItem.parentElement.querySelector('.form__error');\r\n\t\tif (inputError) formRequiredItem.parentElement.removeChild(inputError);\r\n\t\tif (validationUncorrectError) {\r\n\t\t\tformRequiredItem.parentElement.insertAdjacentHTML('beforeend', '<div class=\"form__error\">' + validationUncorrectError + '</div>');\r\n\t\t}\r\n\t},\r\n\taddPasswordError(formRequiredItem) {\r\n\t\tformRequiredItem.classList.add('_error');\r\n\t\tformRequiredItem.parentElement.classList.add('_error');\r\n\t\tlet inputError = formRequiredItem.parentElement.querySelector('.form__error');\r\n\t\tif (inputError) formRequiredItem.parentElement.removeChild(inputError);\r\n\t\tif (validationShortPassError) {\r\n\t\t\tformRequiredItem.parentElement.insertAdjacentHTML('beforeend', '<div class=\"form__error\">' + validationShortPassError + '</div>');\r\n\t\t}\r\n\t},\r\n\tremoveError(formRequiredItem) {\r\n\t\tformRequiredItem.classList.remove('_error');\r\n\t\tformRequiredItem.parentElement.classList.remove('_error');\r\n\t\tif (formRequiredItem.parentElement.querySelector('.form__error')) {\r\n\t\t\tformRequiredItem.parentElement.removeChild(formRequiredItem.parentElement.querySelector('.form__error'));\r\n\t\t}\r\n\t},\r\n\tformClean(form) {\r\n\t\tlet inputs = form.querySelectorAll('input,textarea');\r\n\t\tfor (let index = 0; index < inputs.length; index++) {\r\n\t\t\tconst el = inputs[index];\r\n\t\t\tel.parentElement.classList.remove('_focus');\r\n\t\t\tel.classList.remove('_focus');\r\n\t\t\tel.value  = ''; // el.dataset.placeholder\r\n\t\t}\r\n\t\tlet checkboxes = form.querySelectorAll('.checkbox__input');\r\n\t\tif (checkboxes.length > 0) {\r\n\t\t\tfor (let index = 0; index < checkboxes.length; index++) {\r\n\t\t\t\tconst checkbox = checkboxes[index];\r\n\t\t\t\t//checkbox.checked = false;\r\n\t\t\t\tif(checkbox.hasAttribute('value')) {\r\n\t\t\t\t\tcheckbox.removeAttribute('value')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet selects = form.querySelectorAll('select');\r\n\t\tif (selects.length > 0) {\r\n\t\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\t\tconst select = selects[index];\r\n\t\t\t\tconst select_default_value = select.getAttribute('data-default');\r\n\t\t\t\tselect.value = select_default_value;\r\n\t\t\t\tselect_item(select);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// float label\r\n\t\tlet floatLabels = form.querySelectorAll('.content-name');\r\n\t\tif (floatLabels.length > 0) {\r\n\t\t\tfor (let index = 0; index < floatLabels.length; index++) {\r\n\t\t\t\tconst label = floatLabels[index];\r\n\t\t\t\tlabel.classList.remove('_active')\r\n\t\t\t}\r\n\t\t}\r\n\t\t// file input\r\n\t\tlet fileInputs = form.querySelectorAll('.file__input');\r\n\t\tlet previewFileText = form.querySelectorAll('.message-text');\r\n\t\tif (fileInputs.length > 0) {\r\n\t\t\tfor (let index = 0; index < fileInputs.length; index++) {\r\n\t\t\t\tconst fileInput = fileInputs[index];\r\n\t\t\t\tfileInput.classList.remove('full')\r\n\t\t\t}\r\n\t\t\tfor (let index = 0; index < previewFileText.length; index++) {\r\n\t\t\t\tconst text = previewFileText[index];\r\n\t\t\t\ttext.innerText = fileInputs[0].getAttribute('data-placeholder') || ''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\temailTest(formRequiredItem) {\r\n\t\treturn !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(formRequiredItem.value);\r\n\t},\r\n\tpasswordTest(formRequiredItem) {\r\n\t\tif(formRequiredItem.value.length < 8) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n}\r\n/* Отправка форм */\r\nexport function formSubmit(validate) {\r\n\tconst forms = document.forms;\r\n\tif (forms.length) {\r\n\t\tfor (const form of forms) {\r\n\t\t\tform.addEventListener('submit', formSubmit);\r\n\t\t}\r\n\t}\r\n\tasync function formSubmit(e) {\r\n\t\tconst form = e.target;\r\n\t\tconst error = validate ? formValidate.getErrors(form) : 0;\r\n\t\tif (error === 0) {\r\n\t\t\tconst message = form.getAttribute('data-message');\r\n\t\t\tconst ajax = form.hasAttribute('data-ajax');\r\n\t\t\t//SendForm\r\n\t\t\tif (ajax) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst formAction = form.getAttribute('action') ? form.getAttribute('action').trim() : '#';\r\n\t\t\t\tconst formMethod = form.getAttribute('method') ? form.getAttribute('method').trim() : 'GET';\r\n\t\t\t\tconst formData = new FormData(form);\r\n\r\n\t\t\t\tform.classList.add('_sending');\r\n\t\t\t\tconst response = await fetch(formAction, {\r\n\t\t\t\t\tmethod: formMethod,\r\n\t\t\t\t\tbody: formData\r\n\t\t\t\t});\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\tlet responseResult = await response.json();\r\n\t\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t\t\tif (message) {\r\n\t\t\t\t\t\t// Нужно подключить зависимость\r\n\t\t\t\t\t\tpopupItem.open(`${message}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tformValidate.formClean(form);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Ошибка\");\r\n\t\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// If test\r\n\t\t\tif (form.hasAttribute('data-test')) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (message) {\r\n\t\t\t\t\t// Нужно подключить зависимость\r\n\t\t\t\t\tpopupItem.open(`${message}`);\r\n\t\t\t\t}\r\n\t\t\t\tformValidate.formClean(form);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst formError = form.querySelector('._error');\r\n\t\t\tif (formError && form.hasAttribute('data-goto-error')) {\r\n\t\t\t\t// Нужно подключить зависимость\r\n\t\t\t\tgotoBlock(formError, 1000, 50);\r\n\t\t\t}\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n}\r\n/* Модуь формы \"показать пароль\" */\r\nexport function formViewpass() {\r\n\tdocument.addEventListener(\"click\", function (e) {\r\n\t\tlet targetElement = e.target;\r\n\t\tif (targetElement.closest('[class*=\"__viewpass\"]')) {\r\n\t\t\tlet inputType = targetElement.classList.contains('active') ? \"password\" : \"text\";\r\n\t\t\ttargetElement.parentElement.querySelector('input').setAttribute(\"type\", inputType);\r\n\t\t\ttargetElement.classList.toggle('active');\r\n\t\t}\r\n\t});\r\n}\r\n/* Модуь формы \"колличество\" */\r\nexport function formQuantity() {\r\n\tdocument.addEventListener(\"click\", function (e) {\r\n\t\tlet targetElement = e.target;\r\n\t\tif (targetElement.closest('.quantity__button')) {\r\n\t\t\tlet value = parseInt(targetElement.closest('.quantity').querySelector('input').value);\r\n\t\t\tif (targetElement.classList.contains('quantity__button_plus')) {\r\n\t\t\t\tvalue++;\r\n\t\t\t} else {\r\n\t\t\t\t--value;\r\n\t\t\t\tif (value < 1) value = 1;\r\n\t\t\t}\r\n\t\t\ttargetElement.closest('.quantity').querySelector('input').value = value;\r\n\t\t}\r\n\t});\r\n}\r\n/* Модуь звездного рейтинга */\r\nexport function formRating() {\r\n\tconst ratings = document.querySelectorAll('.rating');\r\n\tif (ratings.length > 0) {\r\n\t\tinitRatings();\r\n\t}\r\n\t// Основная функция\r\n\tfunction initRatings() {\r\n\t\tlet ratingActive, ratingValue;\r\n\t\t// \"Бегаем\" по всем рейтингам на странице\r\n\t\tfor (let index = 0; index < ratings.length; index++) {\r\n\t\t\tconst rating = ratings[index];\r\n\t\t\tinitRating(rating);\r\n\t\t}\r\n\t\t// Инициализируем конкретный рейтинг\r\n\t\tfunction initRating(rating) {\r\n\t\t\tinitRatingVars(rating);\r\n\r\n\t\t\tsetRatingActiveWidth();\r\n\r\n\t\t\tif (rating.classList.contains('rating_set')) {\r\n\t\t\t\tsetRating(rating);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Инициализайция переменных\r\n\t\tfunction initRatingVars(rating) {\r\n\t\t\tratingActive = rating.querySelector('.rating__active');\r\n\t\t\tratingValue = rating.querySelector('.rating__value');\r\n\t\t}\r\n\t\t// Изменяем ширину активных звезд\r\n\t\tfunction setRatingActiveWidth(index = ratingValue.innerHTML) {\r\n\t\t\tconst ratingActiveWidth = index / 0.05;\r\n\t\t\tratingActive.style.width = `${ratingActiveWidth}%`;\r\n\t\t}\r\n\t\t// Возможность указать оценку \r\n\t\tfunction setRating(rating) {\r\n\t\t\tconst ratingItems = rating.querySelectorAll('.rating__item');\r\n\t\t\tfor (let index = 0; index < ratingItems.length; index++) {\r\n\t\t\t\tconst ratingItem = ratingItems[index];\r\n\t\t\t\tratingItem.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\t\t// Обновление переменных\r\n\t\t\t\t\tinitRatingVars(rating);\r\n\t\t\t\t\t// Обновление активных звезд\r\n\t\t\t\t\tsetRatingActiveWidth(ratingItem.value);\r\n\t\t\t\t});\r\n\t\t\t\tratingItem.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\t\t// Обновление активных звезд\r\n\t\t\t\t\tsetRatingActiveWidth();\r\n\t\t\t\t});\r\n\t\t\t\tratingItem.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\t// Обновление переменных\r\n\t\t\t\t\tinitRatingVars(rating);\r\n\r\n\t\t\t\t\tif (rating.dataset.ajax) {\r\n\t\t\t\t\t\t// \"Отправить\" на сервер\r\n\t\t\t\t\t\tsetRatingValue(ratingItem.value, rating);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Отобразить указанную оцнку\r\n\t\t\t\t\t\tratingValue.innerHTML = index + 1;\r\n\t\t\t\t\t\tsetRatingActiveWidth();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tasync function setRatingValue(value, rating) {\r\n\t\t\tif (!rating.classList.contains('rating_sending')) {\r\n\t\t\t\trating.classList.add('rating_sending');\r\n\r\n\t\t\t\t// Отправика данных (value) на сервер\r\n\t\t\t\tlet response = await fetch('rating.json', {\r\n\t\t\t\t\tmethod: 'GET',\r\n\r\n\t\t\t\t\t//body: JSON.stringify({\r\n\t\t\t\t\t//\tuserRating: value\r\n\t\t\t\t\t//}),\r\n\t\t\t\t\t//headers: {\r\n\t\t\t\t\t//\t'content-type': 'application/json'\r\n\t\t\t\t\t//}\r\n\r\n\t\t\t\t});\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\tconst result = await response.json();\r\n\r\n\t\t\t\t\t// Получаем новый рейтинг\r\n\t\t\t\t\tconst newRating = result.newRating;\r\n\r\n\t\t\t\t\t// Вывод нового среднего результата\r\n\t\t\t\t\tratingValue.innerHTML = newRating;\r\n\r\n\t\t\t\t\t// Обновление активных звезд\r\n\t\t\t\t\tsetRatingActiveWidth();\r\n\r\n\t\t\t\t\trating.classList.remove('rating_sending');\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Ошибка\");\r\n\r\n\t\t\t\t\trating.classList.remove('rating_sending');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nexport function formPricerange() {\r\n\t\r\nconst priceSlider = document.querySelector('.price-filter');\r\n\tif (priceSlider) {\r\n\t\tnoUiSlider.create(priceSlider, {\r\n\t\t\tstart: [1500, 15500],\r\n\t\t\tconnect: true,\r\n\t\t\ttooltips: [wNumb({ decimals: 0 }), wNumb({ decimals: 0 })],\r\n\t\t\trange: {\r\n\t\t\t\t'min': [1500],\r\n\t\t\t\t'max': [15500]\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// const priceStart = document.getElementById('price-start');\r\n\t\t// const priceEnd = document.getElementById('price-end');\r\n\t\t// priceStart.addEventListener('change', setPriceValues);\r\n\t\t// priceEnd.addEventListener('change', setPriceValues);\r\n\r\n\t\t// function setPriceValues() {\r\n\t\t// \tlet priceStartValue;\r\n\t\t// \tlet priceEndValue;\r\n\t\t// \tif (priceStart.value != '') {\r\n\t\t// \t\tpriceStartValue = priceStart.value;\r\n\t\t// \t}\r\n\t\t// \tif (priceEnd.value != '') {\r\n\t\t// \t\tpriceEndValue = priceEnd.value;\r\n\t\t// \t}\r\n\t\t// \tpriceSlider.noUiSlider.set([priceStartValue, priceEndValue]);\r\n\t\t// }\r\n\t}\r\n}\r\n\r\n","inlineSVG.init({\r\n\tsvgSelector: '[data-inline-svg]', // the class attached to all images that should be inlined\r\n\t//initClass: 'js-inlinesvg', // class added to <html>\r\n}); // second parament colback , function () { console.log('All SVGs inlined'); }\r\n\r\n{/* <img data-src=\"viber.svg\" inline-svg alt=\"\"></img> */}","//import LazyLoad from \"vanilla-lazyload\";\r\n\r\n// Работает с объектами с класом ._lazy\r\n\r\nconst lazyMedia = new LazyLoad({\r\n\telements_selector: '[data-lazy]',\r\n\t// container: document.querySelector(\"#s-team\"),\r\n    // thresholds: \"200% 0px\",\r\n\t// class_loaded: '_lazy-loaded',\r\n\t//use_native: true\r\n});\r\n//console.log(lazyMedia)\r\n\r\n// Обновить модуль\r\nlazyMedia.update();","/*\r\nДокументация по работе в шаблоне: \r\nДокументация слайдера: https://swiperjs.com/\r\nСниппет(HTML): swiper\r\n*/\r\n\r\n// Подключаем слайдер Swiper из node_modules\r\n// При необходимости подключаем дополнительные модули слайдера, указывая их в {} через запятую\r\n// Пример: { Navigation, Autoplay }\r\n//import Swiper, { Navigation, Pagination, Lazy } from 'swiper';\r\n/*\r\nОсновниые модули слайдера:\r\nNavigation, Pagination, Autoplay, \r\nEffectFade, Lazy, Manipulation\r\nПодробнее смотри https://swiperjs.com/\r\n*/\r\n\r\n// Стили Swiper\r\n// Базовые стили\r\nimport \"../../../scss/libs/_swiper.scss\";\r\n// Полный набор стилей из scss/libs/swiper.scss\r\n// import \"../../scss/libs/swiper.scss\";\r\n// Полный набор стилей из node_modules\r\n// import 'swiper/css';\r\n\r\n// Добавление классов слайдерам\r\n// swiper главному блоку, swiper-wrapper оболочке, swiper-slide для слайдов\r\nfunction bildSliders() {\r\n\t//BildSlider\r\n\tlet sliders = document.querySelectorAll('[class*=\"__swiper\"]:not(.swiper-wrapper)');\r\n\tif (sliders) {\r\n\t\tsliders.forEach(slider => {\r\n\t\t\tslider.parentElement.classList.add('swiper');\r\n\t\t\tslider.classList.add('swiper-wrapper');\r\n\t\t\tfor (const slide of slider.children) {\r\n\t\t\t\tslide.classList.add('swiper-slide');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n// Инициализация слайдеров\r\nfunction initSliders() {\r\n\t// Добавление классов слайдера\r\n\t// при необходимости отключить\r\n\tbildSliders();\r\n\r\n\tif (document.querySelector('[data-slider-id=\"-1\"]')) {\r\n\t\tnew Swiper('[data-slider-id=\"-1\"]', {\r\n\t\t\tobserver: true,\r\n\t\t\tobserveParents: true,\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tspaceBetween: 32,\r\n\t\t\tresizeObserver: true,\r\n\t\t\tautoHeight: true,\r\n\t\t\tspeed: 800,\r\n\t\t\tgrabCursor: true,\r\n\t\t\t// navigation: {\r\n\t\t\t// \tnextEl: '[data-slider-btn=\"1, next\"]',\r\n\t\t\t// \tprevEl: '[data-slider-btn=\"1, prev\"]',\r\n\t\t\t// \tdisabledClass: '_disabled'\r\n\t\t\t// }\r\n\t\t})\r\n\t}\r\n\r\n\tif (document.querySelector('.gallery')) {\r\n\t\tdocument.querySelectorAll('.gallery').forEach((gallery, index) => {\r\n\t\t\t\r\n\t\t\tif(gallery) {\r\n\t\t\t\tnew Swiper(`[data-slider-id=\"${index}\"]`, {\r\n\t\t\t\t\t// lazy: {\r\n\t\t\t\t\t// \tloadPrevNext: true,\r\n\t\t\t\t\t// \tloadPrevNextAmount: 5\r\n\t\t\t\t\t// },\r\n\t\t\t\t\tobserver: true,\r\n\t\t\t\t\tobserveParents: true,\r\n\t\t\t\t\tslidesPerView: 'auto',\r\n\t\t\t\t\tspaceBetween: 32,\r\n\t\t\t\t\tresizeObserver: true,\r\n\t\t\t\t\tautoHeight: true,\r\n\t\t\t\t\tspeed: 800,\r\n\t\t\t\t\tgrabCursor: true,\r\n\t\t\t\t\tscrollbar: {\r\n\t\t\t\t\t\tel: `[data-slider-scrollbar=\"${index}\"]`,\r\n\t\t\t\t\t\tdraggable: true,\r\n\t\t\t\t\t\tdragSize: 64\r\n\t\t\t\t\t},\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tnextEl: `[data-slider-btn=\"${index}, next\"]`,\r\n\t\t\t\t\t\tprevEl: `[data-slider-btn=\"${index}, prev\"]`,\r\n\t\t\t\t\t\tdisabledClass: '_disabled'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpagination: {\r\n\t\t\t\t\t\tel: `[data-slider-pagination=\"${index}\"]`,\r\n\t\t\t\t\t\ttype: 'fraction',\r\n\t\t\t\t\t\tformatFractionCurrent: function(number) {\r\n\t\t\t\t\t\t\tconst el = document.querySelector(this.el)\r\n\t\t\t\t\t\t\tconst current = el.querySelector(`.${this.currentClass}`)\r\n\r\n\t\t\t\t\t\t\tif(number < 10) {\r\n\t\t\t\t\t\t\t\tcurrent.textContent = `0${number}`\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcurrent.textContent = number\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformatFractionTotal: function(number) {\r\n\t\t\t\t\t\t\tconst el = document.querySelector(this.el)\r\n\t\t\t\t\t\t\tconst total = el.querySelector(`.${this.totalClass}`)\r\n\r\n\t\t\t\t\t\t\tif(number < 10) {\r\n\t\t\t\t\t\t\t\ttotal.textContent = `0${number}`\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttotal.textContent = number\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbreakpoints: {\r\n\t\t\t\t\t\t0: {\r\n\t\t\t\t\t\t\tspaceBetween: 12\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t768: {\r\n\t\t\t\t\t\t\tspaceBetween: 32\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n// Скролл на базе слайдера (по классу swiper_scroll для оболочки слайдера)\r\nfunction initSlidersScroll() {\r\n\t// Добавление классов слайдера\r\n\t// при необходимости отключить\r\n\tbildSliders();\r\n\r\n\tlet sliderScrollItems = document.querySelectorAll('.swiper_scroll');\r\n\tif (sliderScrollItems.length > 0) {\r\n\t\tfor (let index = 0; index < sliderScrollItems.length; index++) {\r\n\t\t\tconst sliderScrollItem = sliderScrollItems[index];\r\n\t\t\tconst sliderScrollBar = sliderScrollItem.querySelector('.swiper-scrollbar');\r\n\t\t\tconst sliderScroll = new Swiper(sliderScrollItem, {\r\n\t\t\t\tobserver: true,\r\n\t\t\t\tobserveParents: true,\r\n\t\t\t\tdirection: 'vertical',\r\n\t\t\t\tslidesPerView: 'auto',\r\n\t\t\t\tfreeMode: {\r\n\t\t\t\t\tenabled: true,\r\n\t\t\t\t},\r\n\t\t\t\tscrollbar: {\r\n\t\t\t\t\tel: sliderScrollBar,\r\n\t\t\t\t\tdraggable: true,\r\n\t\t\t\t\tsnapOnRelease: false\r\n\t\t\t\t},\r\n\t\t\t\tmousewheel: {\r\n\t\t\t\t\treleaseOnEdges: true,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tsliderScroll.scrollbar.updateSize();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction initModelSlider() {\r\n\t//const modelSliderTimeline = gsap.timeline({ defaults: {ease: 'none' } })\r\n\r\n\tconst modelSlider = new Swiper('.model-slider__slider', {\r\n\t\tobserver: true,\r\n\t\tobserveParents: true,\r\n\t\tdirection: 'vertical',\r\n\t\teffect: 'fade',\r\n\t\tfadeEffect: {\r\n\t\t\tcrossFade: true\r\n\t\t},\r\n\t\tmousewheel: {\r\n\t\t\treleaseOnEdges: true,\r\n\t\t\teventsTarget: '.model-slider'\r\n\t\t},\r\n\t});\r\n\tmodelSlider.disable()\r\n\r\n\tScrollTrigger.create({\r\n\t\t//animation: modelSliderTimeline,\r\n\t\ttrigger: '.model-slider',\r\n\t\tstart: 'top 142px',\r\n\t\tend: '+=600',\r\n\t\tpin: true,\r\n\t\tscrub: 1,\r\n\t\tonEnter: () => {\r\n\t\t\tmodelSlider.enable()\r\n\t\t\t//console.log('enable: ', modelSlider.enabled)\r\n\t\t},\r\n\t\tonLeave: () => {\r\n\t\t\tmodelSlider.disable()\r\n\t\t\t//console.log('enable: ', modelSlider.enabled)\r\n\t\t},\r\n\t\tonEnterBack: () => {\r\n\t\t\t//console.log('enable')\r\n\t\t\tmodelSlider.enable()\r\n\t\t},\r\n\t\tonLeaveBack: () => {\r\n\t\t\t//console.log('disable')\r\n\t\t\tmodelSlider.disable()\r\n\t\t}\r\n\t})\r\n\r\n\t// gsap.utils.toArray(document.querySelectorAll('.model-slide')).forEach((item, index) => {\r\n\t// \tconst modelImage = item.querySelector('.model-slide__model')\r\n\t// \tconst modelText = item.querySelector('.model-slide__text')\r\n\r\n\t// \tif(index !== 0) {\r\n\t// \t\tmodelSliderTimeline.to(modelImage, {\r\n\t// \t\t\topacity: 1,\r\n\t// \t\t})\r\n\t// \t}\r\n\t// \tif(index !== 0) {\r\n\t// \t\tmodelSliderTimeline.to(modelText, {\r\n\t// \t\t\topacity: 1,\r\n\t// \t\t}, '<')\r\n\t// \t}\r\n\t// \tif(index !== 4) {\r\n\t// \t\tmodelSliderTimeline.to(modelText, {\r\n\t// \t\t\topacity: 0,\r\n\t// \t\t})\r\n\t// \t}\r\n\t// })\r\n\r\n\t// modelSlider.on('reachEnd', function () {\r\n\t// \talert('end');\r\n\t// });\r\n\t\r\n}\r\n\r\nfunction initSoftSlider() {\r\n\tif(document.querySelector('.soft-slide')) {\r\n\t\tgsap.utils.toArray('.soft-slide').forEach((panel, i, arr) => {\r\n\t\t\tpanel.style.zIndex = i\r\n\t\t\tif(i !== arr.length - 1) {\r\n\t\t\t\tScrollTrigger.create({\r\n\t\t\t\t\ttrigger: panel,\r\n\t\t\t\t\tstart: 'top +=100', \r\n\t\t\t\t\tpin: true, \r\n\t\t\t\t\tpinSpacing: false,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nwindow.addEventListener(\"load\", function (e) {\r\n\t// Запуск инициализации слайдеров\r\n\tinitSliders()\r\n\tinitModelSlider()\r\n\tinitSoftSlider()\r\n\t// Запуск инициализации скролла на базе слайдера (по классу swiper_scroll)\r\n\t//initSlidersScroll();\r\n});","//----- Импорт зависимостей ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nimport { _slideUp, _slideDown, _slideToggle } from \"../utils/functions.js\";\r\n\r\n// Подключение файла стилей\r\n// Базовые стили поключаются в src/scss/forms.scss\r\n// Файл базовых стилей src/scss/forms/select.scss\r\n\r\n/*\r\nДокументация:\r\nСнипет (HTML): sel\r\n*/\r\n/*\r\n// Настройки\r\nДля селекта (select):\r\nclass=\"имя класса\" - модификатор к конкретному селекту\r\nmultiple - мультивыбор\r\ndata-tags - режим тегов, только для (только для multiple)\r\ndata-scroll - включит прокрутку для выпадающего списка, дополнительно можно подключить кастомный скролл simplebar в app.js. Указанное число для атрибута ограничит высоту\r\ndata-checkbox - стилизация элементов по checkbox (только для multiple)\r\ndata-show-selected - отключает скрытие выбранного элемента\r\ndata-search - позволяет искать по выпадающему списку\r\ndata-open - селект открыт сразу\r\n\r\nДля плейсхолдера (Плейсхолдер - это option с value=\"\"):\r\ndata-label для плейсхолдера, добавляет label к селекту\r\ndata-show для плейсхолдера, показывает его в списке (только для единичного выбора)\r\n\r\nДля элемента (option):\r\ndata-class=\"имя класса\" - добавляет класс\r\ndata-asset=\"путь к картинке или текст\" - добавляет структуру 2х колонок и данными\r\n*/\r\n\r\n/*\r\n// Возможные доработки:\r\nпопап на мобилке\r\n*/\r\n\r\n// Получение всех select на странице\r\nconst selectItems = document.querySelectorAll('select');\r\n// Объект построения Select\r\nexport const selectModule = {\r\n\t// CSS классы модуля\r\n\tselectClasses: {\r\n\t\tclassSelect: \"select\", // Главный блок\r\n\t\tclassSelectBody: \"select__body\", // Тело селекта\r\n\t\tclassSelectTitle: \"select__title\", // Заголовок\r\n\t\tclassSelectValue: \"select__value\", // Значение в заголовке\r\n\t\tclassSelectLabel: \"select__label\", // Лабел\r\n\t\tclassSelectInput: \"select__input\", // Поле ввода\r\n\t\tclassSelectText: \"select__text\", // Оболочка текстовых данных\r\n\t\tclassSelectOptions: \"select__options\", // Выпадающий список\r\n\t\tclassSelectOptionsScroll: \"select__scroll\", // Оболочка при скролле\r\n\t\tclassSelectOption: \"select__option\", // Пункт\r\n\t\tclassSelectContent: \"select__content\", // Оболочка контента в заголовке\r\n\t\tclassSelectRow: \"select__row\", // Ряд\r\n\t\tclassSelectData: \"select__asset\", // Дополнительные данные\r\n\t\tclassSelectDisabled: \"_select-disabled\", // Запрешен\r\n\t\tclassSelectTag: \"_select-tag\", // Класс тега\r\n\t\tclassSelectOpen: \"_select-open\", // Список открыт\r\n\t\tclassSelectActive: \"_select-active\", // Список выбран\r\n\t\tclassSelectFocus: \"_select-focus\", // Список в фокусе\r\n\t\tclassSelectMultiple: \"_select-multiple\", // Мультивыбор\r\n\t\tclassSelectCheckBox: \"_select-checkbox\", // Стиль чекбокса\r\n\t\tclassSelectOptionSelected: \"_select-selected\", // Выбранный пункт\r\n\t},\r\n\t// Конструктор CSS класса\r\n\tgetSelectClass(className) {\r\n\t\treturn `.${className}`;\r\n\t},\r\n\t// Геттер элементов псевдоселекта\r\n\tgetSelectElement(selectItem, className) {\r\n\t\treturn {\r\n\t\t\toriginalSelect: selectItem.querySelector('select'),\r\n\t\t\tselectElement: selectItem.querySelector(selectModule.getSelectClass(className)),\r\n\t\t}\r\n\t},\r\n\t// Функция инициализации всех селектов\r\n\tselectsInit(selectItems) {\r\n\t\tselectItems.forEach((originalSelect, index) => {\r\n\t\t\toriginalSelect.dataset.id = index;\r\n\t\t\tselectModule.selectInit(originalSelect);\r\n\t\t});\r\n\t\t// Обработчики событий...\r\n\t\t// ...при клике\r\n\t\tdocument.addEventListener('click', selectModule.selectsActions);\r\n\t\t// ...при нажатии клавиши\r\n\t\tdocument.addEventListener('keydown', selectModule.selectsActions);\r\n\t\t// ...при фокусе\r\n\t\tdocument.addEventListener('focusin', selectModule.selectsActions);\r\n\t\t// ...при потере фокуса\r\n\t\tdocument.addEventListener('focusout', selectModule.selectsActions);\r\n\t},\r\n\t// Функция инициализации конкретного селекта\r\n\tselectInit(originalSelect) {\r\n\t\t// Создаем оболочку\r\n\t\tlet selectItem = document.createElement(\"div\");\r\n\t\tselectItem.classList.add(selectModule.selectClasses.classSelect);\r\n\t\t// Выводим оболочку перед оригинальным селектом\r\n\t\toriginalSelect.parentNode.insertBefore(selectItem, originalSelect);\r\n\t\t// Помещаем оригинальный селект в оболочку\r\n\t\tselectItem.appendChild(originalSelect);\r\n\t\t// Скрываем оригинальный селект\r\n\t\toriginalSelect.hidden = true;\r\n\r\n\t\t// Конструктор косновных элементов\r\n\t\tselectItem.insertAdjacentHTML('beforeend', `<div class=\"${selectModule.selectClasses.classSelectBody}\"><div hidden class=\"${selectModule.selectClasses.classSelectOptions}\"></div></div>`);\r\n\t\t// Запускаем конструктор псевдоселекта\r\n\t\tselectModule.selectBuild(originalSelect);\r\n\r\n\t\t// Работа с плейсхолдером\r\n\t\tif (selectModule.getSelectPlaceholder(originalSelect)) {\r\n\t\t\t// Запоминаем плейсхолдер\r\n\t\t\toriginalSelect.dataset.placeholder = selectModule.getSelectPlaceholder(originalSelect).value;\r\n\t\t\t// Если включен режим label\r\n\t\t\tif (selectModule.getSelectPlaceholder(originalSelect).label.show) {\r\n\t\t\t\tconst selectItemTitle = selectModule.getSelectElement(selectItem, selectModule.selectClasses.classSelectTitle).selectElement;\r\n\t\t\t\tselectItemTitle.insertAdjacentHTML('afterbegin', `<span class=\"${selectModule.selectClasses.classSelectLabel}\">${selectModule.getSelectPlaceholder(originalSelect).label.text ? selectModule.getSelectPlaceholder(originalSelect).label.text : selectModule.getSelectPlaceholder(originalSelect).value}</span>`);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Запоминаем скорость\r\n\t\toriginalSelect.dataset.speed = originalSelect.dataset.speed ? originalSelect.dataset.speed : \"150\";\r\n\t\t// Событие при изменении оригинального select\r\n\t\toriginalSelect.addEventListener('change', selectModule.selectChange);\r\n\t},\r\n\t// Конструктор псевдоселекта\r\n\tselectBuild(originalSelect) {\r\n\t\tconst selectItem = originalSelect.parentElement;\r\n\t\t// Добавляем ID селекта\r\n\t\tselectItem.dataset.id = originalSelect.dataset.id;\r\n\t\t// Получаем класс оригинального селекта, создаем модификатор и добавляем его\r\n\t\tselectItem.classList.add(originalSelect.getAttribute('class') ? `select_${originalSelect.getAttribute('class')}` : \"\");\r\n\t\t// Если множественный выбор, добавляем класс\r\n\t\toriginalSelect.multiple ? selectItem.classList.add(selectModule.selectClasses.classSelectMultiple) : selectItem.classList.remove(selectModule.selectClasses.classSelectMultiple);\r\n\t\t// Cтилизация элементов под checkbox (только для multiple)\r\n\t\toriginalSelect.hasAttribute('data-checkbox') && originalSelect.multiple ? selectItem.classList.add(selectModule.selectClasses.classSelectCheckBox) : selectItem.classList.remove(selectModule.selectClasses.classSelectCheckBox);\r\n\t\t// Сеттер значения заголовка селекта\r\n\t\tselectModule.setSelectTitleValue(selectItem, originalSelect);\r\n\t\t// Сеттер элементов списка (options)\r\n\t\tselectModule.setOptions(selectItem, originalSelect);\r\n\t\t// Если включена опция поиска data-search, запускаем обработчик\r\n\t\toriginalSelect.hasAttribute('data-search') ? selectModule.searchActions(selectItem) : null;\r\n\t\t// Если указана настройка data-open, открываем селект\r\n\t\toriginalSelect.hasAttribute('data-open') ? selectModule.selectAction(selectItem) : null;\r\n\t\t// Обработчик disabled\r\n\t\tselectModule.selectDisabled(selectItem, originalSelect);\r\n\t},\r\n\t// Функция реакций на события\r\n\tselectsActions(e) {\r\n\t\tconst targetElement = e.target;\r\n\t\tconst targetType = e.type;\r\n\t\tif (targetElement.closest(selectModule.getSelectClass(selectModule.selectClasses.classSelect)) || targetElement.closest(selectModule.getSelectClass(selectModule.selectClasses.classSelectTag))) {\r\n\t\t\tconst selectItem = targetElement.closest('.select') ? targetElement.closest('.select') : document.querySelector(`.${selectModule.selectClasses.classSelect}[data-id=\"${targetElement.closest(selectModule.getSelectClass(selectModule.selectClasses.classSelectTag)).dataset.selectId}\"]`);\r\n\t\t\tconst originalSelect = selectModule.getSelectElement(selectItem).originalSelect;\r\n\t\t\tif (targetType === 'click') {\r\n\t\t\t\tif (!originalSelect.disabled) {\r\n\t\t\t\t\tif (targetElement.closest(selectModule.getSelectClass(selectModule.selectClasses.classSelectTag))) {\r\n\t\t\t\t\t\t// Обработка клика на тег\r\n\t\t\t\t\t\tconst targetTag = targetElement.closest(selectModule.getSelectClass(selectModule.selectClasses.classSelectTag));\r\n\t\t\t\t\t\tconst optionItem = document.querySelector(`.${selectModule.selectClasses.classSelect}[data-id=\"${targetTag.dataset.selectId}\"] .select__option[data-value=\"${targetTag.dataset.value}\"]`);\r\n\t\t\t\t\t\tselectModule.optionAction(selectItem, originalSelect, optionItem);\r\n\t\t\t\t\t} else if (targetElement.closest(selectModule.getSelectClass(selectModule.selectClasses.classSelectTitle))) {\r\n\t\t\t\t\t\t// Обработка клика на заголовок селекта\r\n\t\t\t\t\t\tselectModule.selectAction(selectItem);\r\n\t\t\t\t\t} else if (targetElement.closest(selectModule.getSelectClass(selectModule.selectClasses.classSelectOption))) {\r\n\t\t\t\t\t\t// Обработка клика на элемент селекта\r\n\t\t\t\t\t\tconst optionItem = targetElement.closest(selectModule.getSelectClass(selectModule.selectClasses.classSelectOption));\r\n\t\t\t\t\t\tselectModule.optionAction(selectItem, originalSelect, optionItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (targetType === 'focusin' || targetType === 'focusout') {\r\n\t\t\t\tif (targetElement.closest(selectModule.getSelectClass(selectModule.selectClasses.classSelect))) {\r\n\t\t\t\t\ttargetType === 'focusin' ? selectItem.classList.add(selectModule.selectClasses.classSelectFocus) : selectItem.classList.remove(selectModule.selectClasses.classSelectFocus);\r\n\t\t\t\t}\r\n\t\t\t} else if (targetType === 'keydown' && e.code === 'Escape') {\r\n\t\t\t\tselectModule.selectsСlose();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tselectModule.selectsСlose();\r\n\t\t}\r\n\t},\r\n\t// Функция закрытия всех селектов\r\n\tselectsСlose() {\r\n\t\tconst selectActiveItems = document.querySelectorAll(`${selectModule.getSelectClass(selectModule.selectClasses.classSelect)}${selectModule.getSelectClass(selectModule.selectClasses.classSelectOpen)}`);\r\n\t\tif (selectActiveItems.length) {\r\n\t\t\tselectActiveItems.forEach(selectActiveItem => {\r\n\t\t\t\tselectModule.selectAction(selectActiveItem);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t// Функция открытия/закрытия конкретного селекта\r\n\tselectAction(selectItem) {\r\n\t\tconst originalSelect = selectModule.getSelectElement(selectItem).originalSelect;\r\n\t\tconst selectOptions = selectModule.getSelectElement(selectItem, selectModule.selectClasses.classSelectOptions).selectElement;\r\n\t\tif (!selectOptions.classList.contains('_slide')) {\r\n\t\t\tselectItem.classList.toggle(selectModule.selectClasses.classSelectOpen);\r\n\t\t\t_slideToggle(selectOptions, originalSelect.dataset.speed);\r\n\t\t}\r\n\t},\r\n\t// Сеттер значения заголовка селекта\r\n\tsetSelectTitleValue(selectItem, originalSelect) {\r\n\t\tconst selectItemBody = selectModule.getSelectElement(selectItem, selectModule.selectClasses.classSelectBody).selectElement;\r\n\t\tconst selectItemTitle = selectModule.getSelectElement(selectItem, selectModule.selectClasses.classSelectTitle).selectElement;\r\n\t\tif (selectItemTitle) selectItemTitle.remove();\r\n\t\tselectItemBody.insertAdjacentHTML(\"afterbegin\", selectModule.getSelectTitleValue(selectItem, originalSelect));\r\n\t},\r\n\t// Конструктор значения заголовка\r\n\tgetSelectTitleValue(selectItem, originalSelect) {\r\n\t\t// Получаем выбранные текстовые значения\r\n\t\tlet selectTitleValue = selectModule.getSelectedOptionsData(originalSelect, 2).html;\r\n\t\t// Обработка значений мультивыбора\r\n\t\t// Если включен режим тегов (указана настройка data-tags)\r\n\t\tif (originalSelect.multiple && originalSelect.hasAttribute('data-tags')) {\r\n\t\t\tselectTitleValue = selectModule.getSelectedOptionsData(originalSelect).elements.map(option => `<span role=\"button\" data-select-id=\"${selectItem.dataset.id}\" data-value=\"${option.value}\" class=\"_select-tag\">${selectModule.getSelectElementContent(option)}</span>`).join('');\r\n\t\t\t// Если вывод тегов во внешний блок\r\n\t\t\tif (originalSelect.dataset.tags && document.querySelector(originalSelect.dataset.tags)) {\r\n\t\t\t\tdocument.querySelector(originalSelect.dataset.tags).innerHTML = selectTitleValue;\r\n\t\t\t\tif (originalSelect.hasAttribute('data-search')) selectTitleValue = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Значение(я) или плейсхолдер\r\n\t\tselectTitleValue = selectTitleValue.length ? selectTitleValue : originalSelect.dataset.placeholder;\r\n\t\t// Если есть значение, добавляем класс\r\n\t\tselectModule.getSelectedOptionsData(originalSelect).values.length ? selectItem.classList.add(selectModule.selectClasses.classSelectActive) : selectItem.classList.remove(selectModule.selectClasses.classSelectActive);\r\n\t\t// Возвращаем поле ввода для поиска или текст\r\n\t\tif (originalSelect.hasAttribute('data-search')) {\r\n\t\t\t// Выводим поле ввода для поиска\r\n\r\n\t\t\treturn `<div class=\"${selectModule.selectClasses.classSelectTitle}\"><span class=\"${selectModule.selectClasses.classSelectValue}\"><input autocomplete=\"off\" type=\"text\" placeholder=\"${selectTitleValue}\" data-placeholder=\"${selectTitleValue}\" class=\"${selectModule.selectClasses.classSelectInput}\"></span></div>`;\r\n\t\t} else {\r\n\t\t\t// Если выбран элемент со своим классом\r\n\t\t\tconst customClass = selectModule.getSelectedOptionsData(originalSelect).elements.length && selectModule.getSelectedOptionsData(originalSelect).elements[0].dataset.class ? ` ${selectModule.getSelectedOptionsData(originalSelect).elements[0].dataset.class}` : '';\r\n\t\t\t// Выводим текстовое значение\r\n\t\t\treturn `<button type=\"button\" class=\"${selectModule.selectClasses.classSelectTitle}\"><span class=\"${selectModule.selectClasses.classSelectValue}\"><span class=\"${selectModule.selectClasses.classSelectContent}${customClass}\">${selectTitleValue}</span></span></button>`;\r\n\t\t}\r\n\t},\r\n\t// Конструктор данных для значения заголовка\r\n\tgetSelectElementContent(selectOption) {\r\n\t\t// Если для элемента указан вывод картинки или текста, перестраиваем конструкцию\r\n\t\tconst selectOptionData = selectOption.dataset.asset ? `${selectOption.dataset.asset}` : '';\r\n\t\tconst selectOptionDataHTML = selectOptionData.indexOf('img') >= 0 ? `<img src=\"${selectOptionData}\" alt=\"\">` : selectOptionData;\r\n\t\tlet selectOptionContentHTML = ``;\r\n\t\tselectOptionContentHTML += selectOptionData ? `<span class=\"${selectModule.selectClasses.classSelectRow}\">` : '';\r\n\t\tselectOptionContentHTML += selectOptionData ? `<span class=\"${selectModule.selectClasses.classSelectData}\">` : '';\r\n\t\tselectOptionContentHTML += selectOptionData ? selectOptionDataHTML : '';\r\n\t\tselectOptionContentHTML += selectOptionData ? `</span>` : '';\r\n\t\tselectOptionContentHTML += selectOptionData ? `<span class=\"${selectModule.selectClasses.classSelectText}\">` : '';\r\n\t\tselectOptionContentHTML += selectOption.textContent;\r\n\t\tselectOptionContentHTML += selectOptionData ? `</span>` : '';\r\n\t\tselectOptionContentHTML += selectOptionData ? `</span>` : '';\r\n\t\treturn selectOptionContentHTML;\r\n\t},\r\n\t// Получение данных плейсхолдера\r\n\tgetSelectPlaceholder(originalSelect) {\r\n\t\tconst selectPlaceholder = Array.from(originalSelect.options).find(option => !option.value);\r\n\t\tif (selectPlaceholder) {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: selectPlaceholder.textContent,\r\n\t\t\t\tshow: selectPlaceholder.hasAttribute(\"data-show\"),\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\tshow: selectPlaceholder.hasAttribute(\"data-label\"),\r\n\t\t\t\t\ttext: selectPlaceholder.dataset.label\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t// Получение данных из выбранных элементов\r\n\tgetSelectedOptionsData(originalSelect, type) {\r\n\t\t// Получаем все выбранные объекты из select\r\n\t\tlet selectedOptions = [];\r\n\t\tif (originalSelect.multiple) {\r\n\t\t\t// Если мультивыбор\r\n\t\t\t// Убираем плейсхолдер, получаем остальные выбранные элементы\r\n\t\t\tselectedOptions = Array.from(originalSelect.options).filter(option => option.value).filter(option => option.selected);\r\n\t\t} else {\r\n\t\t\t// Если единичный выбор\r\n\t\t\tselectedOptions.push(originalSelect.options[originalSelect.selectedIndex]);\r\n\t\t}\r\n\t\treturn {\r\n\t\t\telements: selectedOptions.map(option => option),\r\n\t\t\tvalues: selectedOptions.filter(option => option.value).map(option => option.value),\r\n\t\t\thtml: selectedOptions.map(option => selectModule.getSelectElementContent(option))\r\n\t\t}\r\n\t},\r\n\t// Конструктор элементов списка\r\n\tgetOptions(originalSelect) {\r\n\t\t// Настрока скролла элементов\r\n\t\tlet selectOptionsScroll = originalSelect.hasAttribute('data-scroll') ? `data-simplebar` : '';\r\n\t\tlet selectOptionsScrollHeight = originalSelect.dataset.scroll ? `style=\"max-height:${originalSelect.dataset.scroll}px\"` : '';\r\n\t\t// Получаем элементы списка\r\n\t\tlet selectOptions = Array.from(originalSelect.options);\r\n\t\tif (selectOptions.length > 0) {\r\n\t\t\tlet selectOptionsHTML = ``;\r\n\t\t\t// Если указана настройка data-show, показываем плейсхолдер в списке\r\n\t\t\tif ((selectModule.getSelectPlaceholder(originalSelect) && !selectModule.getSelectPlaceholder(originalSelect).show) || originalSelect.multiple) {\r\n\t\t\t\tselectOptions = selectOptions.filter(option => option.value);\r\n\t\t\t}\r\n\t\t\t// Строим и выводим основную конструкцию\r\n\t\t\tselectOptionsHTML += selectOptionsScroll ? `<div ${selectOptionsScroll} ${selectOptionsScrollHeight} class=\"${selectModule.selectClasses.classSelectOptionsScroll}\">` : '';\r\n\t\t\tselectOptions.forEach(selectOption => {\r\n\t\t\t\t// Получаем конструкцию конкретного элемента списка\r\n\t\t\t\tselectOptionsHTML += selectModule.getOption(selectOption, originalSelect);\r\n\t\t\t});\r\n\t\t\tselectOptionsHTML += selectOptionsScroll ? `</div>` : '';\r\n\t\t\treturn selectOptionsHTML;\r\n\t\t}\r\n\t},\r\n\t// Конструктор конкретного элемента списка\r\n\tgetOption(selectOption, originalSelect) {\r\n\t\t// Если элемент выбран и включен режим мультивыбора, добавляем класс\r\n\t\tconst selectOptionSelected = selectOption.selected && originalSelect.multiple ? ` ${selectModule.selectClasses.classSelectOptionSelected}` : '';\r\n\t\t// Если элемент выбрани нет настройки data-show-selected, скрываем элемент\r\n\t\tconst selectOptionHide = selectOption.selected && !originalSelect.hasAttribute('data-show-selected') ? `hidden` : ``;\r\n\t\t// Если для элемента указан класс добавляем\r\n\t\tconst selectOptionClass = selectOption.dataset.class ? ` ${selectOption.dataset.class}` : '';\r\n\t\t// Строим и возвращаем конструкцию элемента\r\n\t\tlet selectOptionHTML = ``;\r\n\t\tselectOptionHTML += `<button ${selectOptionHide} class=\"${selectModule.selectClasses.classSelectOption}${selectOptionClass}${selectOptionSelected}\" data-value=\"${selectOption.value}\" type=\"button\">`;\r\n\t\tselectOptionHTML += selectModule.getSelectElementContent(selectOption);\r\n\t\tselectOptionHTML += `</button>`;\r\n\t\treturn selectOptionHTML;\r\n\t},\r\n\t// Сеттер элементов списка (options)\r\n\tsetOptions(selectItem, originalSelect) {\r\n\t\t// Получаем объект тела псевдоселекта\r\n\t\tconst selectItemOptions = selectModule.getSelectElement(selectItem, selectModule.selectClasses.classSelectOptions).selectElement;\r\n\t\t// Запускаем конструктор элементов списка (options) и добавляем в тело псевдоселекта\r\n\t\tselectItemOptions.innerHTML = selectModule.getOptions(originalSelect);\r\n\t},\r\n\t// Обработчик клика на элемент списка\r\n\toptionAction(selectItem, originalSelect, optionItem) {\r\n\t\tif (originalSelect.multiple) { // Если мультивыбор\r\n\t\t\t// Выделяем классом элемент\r\n\t\t\toptionItem.classList.toggle(selectModule.selectClasses.classSelectOptionSelected);\r\n\t\t\t// Очищаем выбранные элементы \r\n\t\t\tconst originalSelectSelectedItems = selectModule.getSelectedOptionsData(originalSelect).elements;\r\n\t\t\toriginalSelectSelectedItems.forEach(originalSelectSelectedItem => {\r\n\t\t\t\toriginalSelectSelectedItem.removeAttribute('selected');\r\n\t\t\t});\r\n\t\t\t// Выбираем элементы \r\n\t\t\tconst selectSelectedItems = selectItem.querySelectorAll(selectModule.getSelectClass(selectModule.selectClasses.classSelectOptionSelected));\r\n\t\t\tselectSelectedItems.forEach(selectSelectedItems => {\r\n\t\t\t\toriginalSelect.querySelector(`option[value=\"${selectSelectedItems.dataset.value}\"]`).setAttribute('selected', 'selected');\r\n\t\t\t});\r\n\t\t} else { // Если единичный выбор\r\n\t\t\t// Если не указана настройка data-show-selected, скрываем выбранный элемент\r\n\t\t\tif (!originalSelect.hasAttribute('data-show-selected')) {\r\n\t\t\t\t// Сначала все показать\r\n\t\t\t\tif (selectItem.querySelector(`${selectModule.getSelectClass(selectModule.selectClasses.classSelectOption)}[hidden]`)) {\r\n\t\t\t\t\tselectItem.querySelector(`${selectModule.getSelectClass(selectModule.selectClasses.classSelectOption)}[hidden]`).hidden = false;\r\n\t\t\t\t}\r\n\t\t\t\t// Скрываем выбранную\r\n\t\t\t\toptionItem.hidden = true;\r\n\t\t\t}\r\n\t\t\toriginalSelect.value = optionItem.hasAttribute('data-value') ? optionItem.dataset.value : optionItem.textContent;\r\n\t\t\tselectModule.selectAction(selectItem);\r\n\t\t}\r\n\t\t// Обновляем заголовок селекта\r\n\t\tselectModule.setSelectTitleValue(selectItem, originalSelect);\r\n\t\t// Вызываем реакцию на изменение селекта\r\n\t\tselectModule.setSelectChange(originalSelect);\r\n\t},\r\n\t// Реакция на измененение оригинального select\r\n\tselectChange(e) {\r\n\t\tselectModule.selectBuild(e.target);\r\n\t\tselectModule.setSelectChange(e.target);\r\n\t},\r\n\t// Обработчик изменения в селекте\r\n\tsetSelectChange(originalSelect) {\r\n\t\tconst selectItem = originalSelect.parentElement;\r\n\t\t// Вызов коллбэк функции\r\n\t\tselectModule.selectCallback(selectItem, originalSelect);\r\n\t},\r\n\t// Обработчик disabled\r\n\tselectDisabled(selectItem, originalSelect) {\r\n\t\tif (originalSelect.disabled) {\r\n\t\t\tselectItem.classList.add(selectModule.selectClasses.classSelectDisabled);\r\n\t\t\tselectModule.getSelectElement(selectItem, selectModule.selectClasses.classSelectTitle).selectElement.disabled = true;\r\n\t\t} else {\r\n\t\t\tselectItem.classList.remove(selectModule.selectClasses.classSelectDisabled);\r\n\t\t\tselectModule.getSelectElement(selectItem, selectModule.selectClasses.classSelectTitle).selectElement.disabled = false;\r\n\t\t}\r\n\t},\r\n\t// Обработчик поиска по элементам списка\r\n\tsearchActions(selectItem) {\r\n\t\tconst originalSelect = selectModule.getSelectElement(selectItem).originalSelect;\r\n\t\tconst selectInput = selectModule.getSelectElement(selectItem, selectModule.selectClasses.classSelectInput).selectElement;\r\n\t\tconst selectOptions = selectModule.getSelectElement(selectItem, selectModule.selectClasses.classSelectOptions).selectElement;\r\n\t\tconst selectOptionsItems = selectOptions.querySelectorAll(`.${selectModule.selectClasses.classSelectOption}`);\r\n\t\tselectInput.addEventListener(\"input\", function (e) {\r\n\t\t\tselectOptionsItems.forEach(selectOptionsItem => {\r\n\t\t\t\tif (selectOptionsItem.textContent.toUpperCase().indexOf(selectInput.value.toUpperCase()) >= 0) {\r\n\t\t\t\t\tselectOptionsItem.hidden = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselectOptionsItem.hidden = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// Если список закрыт открываем\r\n\t\t\tselectOptions.hidden === true ? selectModule.selectAction(selectItem) : null;\r\n\t\t});\r\n\t},\r\n\t// Коллбэк функция\r\n\tselectCallback(selectItem, originalSelect) { },\r\n\t// Логгинг в консоль\r\n\tsetLogging(message) {\r\n\t\tconsole.log(`[select - info] ${message} `);\r\n\t}\r\n}\r\n// Запуск инициализации\r\nselectItems.length ? selectModule.selectsInit(selectItems) : selectModule.setLogging('Нет ни одного select, модуль можно отключить');","\r\n// * Using\r\n{/* <a href=\"#\" data-popup-link=\"[data-popup='myPopupCallback']\">Popup Open</a> */}\r\n\r\n{/* <div class=\"hystmodal\" data-popup=\"myPopupCallback\">\r\n    <div class=\"hystmodal__wrap\">\r\n        <div class=\"hystmodal__window\" role=\"dialog\" aria-modal=\"true\">\r\n            <button data-hystclose class=\"hystmodal__close\">Закрыть</button>\r\n        </div>\r\n    </div>\r\n</div> */}\r\n\r\nexport let popupItem;\r\nexport function initPopups() {\r\n\tpopupItem = new HystModal({\r\n\t\tlinkAttributeName: \"data-popup-link\",\r\n\t\twaitTransitions: true,\r\n\t\t// beforeOpen: function (popupItem) {\r\n\t\t// \tconst hash = popupItem.openedWindow.id;\r\n\t\t// \tsetHash(`#${hash}`);\r\n\t\t// },\r\n\t\t// afterClose: function (popupItem) {\r\n\t\t// \tsetHash(window.location.href.split('#')[0]);\r\n\t\t// },\r\n\t\t// прочие настройки (не обязательно), см. API\r\n\t});\r\n\t// Открытие по хешу\r\n\t// if (getHash() && document.querySelector(`#${getHash()}`)) {\r\n\t// \tpopupItem.open(`#${getHash()}`);\r\n\t// }\r\n}\r\ninitPopups();","function initMap(n = 1) {\n\tgoogle.maps.Map.prototype.setCenterWithOffset = function (latlng, offsetX, offsetY) {\n\t\tvar map = this;\n\t\tvar ov = new google.maps.OverlayView();\n\t\tov.onAdd = function () {\n\t\t\tvar proj = this.getProjection();\n\t\t\tvar aPoint = proj.fromLatLngToContainerPixel(latlng);\n\t\t\taPoint.x = aPoint.x + offsetX;\n\t\t\taPoint.y = aPoint.y + offsetY;\n\t\t\tmap.panTo(proj.fromContainerPixelToLatLng(aPoint));\n\t\t\t//map.setCenter(proj.fromContainerPixelToLatLng(aPoint));\n\t\t}\n\t\tov.draw = function () { };\n\t\tov.setMap(this);\n\t};\n\tvar markers = new Array();\n\tvar infowindow = new google.maps.InfoWindow({\n\t\t//pixelOffset: new google.maps.Size(-230,250)\n\t});\n\tvar locations = [\n\t\t[new google.maps.LatLng(50.3748178, 30.541808)],\n\t\t// [new google.maps.LatLng(53.700055, 27.5513694)],\n\t\t// [new google.maps.LatLng(53.809055, 27.5813694)],\n\t\t// [new google.maps.LatLng(53.859055, 27.5013694)],\n\t]\n\tvar options = {\n\t\tzoom: 12.5,\n\t\tpanControl: false,\n\t\tmapTypeControl: false,\n\t\tcenter: locations[0][0],\n\t\tstyles: [{ \"featureType\": \"landscape.natural\", \"elementType\": \"geometry.fill\", \"stylers\": [{ \"visibility\": \"on\" }, { \"color\": \"#e0efef\" }] }, { \"featureType\": \"poi\", \"elementType\": \"geometry.fill\", \"stylers\": [{ \"visibility\": \"on\" }, { \"hue\": \"#1900ff\" }, { \"color\": \"#c0e8e8\" }] }, { \"featureType\": \"road\", \"elementType\": \"geometry\", \"stylers\": [{ \"lightness\": 100 }, { \"visibility\": \"simplified\" }] }, { \"featureType\": \"road\", \"elementType\": \"labels\", \"stylers\": [{ \"visibility\": \"off\" }] }, { \"featureType\": \"transit.line\", \"elementType\": \"geometry\", \"stylers\": [{ \"visibility\": \"on\" }, { \"lightness\": 700 }] }, { \"featureType\": \"water\", \"elementType\": \"all\", \"stylers\": [{ \"color\": \"#7dcdcd\" }] }],\n\t\tscrollwheel: false,\n\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\n\t};\n\tvar map = new google.maps.Map(document.getElementById('map'), options);\n\tvar icon = {\n\t\turl: 'img/interface/map-marker-ico.svg',\n\t\tscaledSize: new google.maps.Size(18, 20),\n\t\tanchor: new google.maps.Point(9, 10)\n\t}\n\tfor (var i = 0; i < locations.length; i++) {\n\t\tvar marker = new google.maps.Marker({\n\t\t\ticon: icon,\n\t\t\tposition: locations[i][0],\n\t\t\tmap: map,\n\t\t});\n\t\tgoogle.maps.event.addListener(marker, 'click', (function (marker, i) {\n\t\t\treturn function () {\n\t\t\t\tfor (var m = 0; m < markers.length; m++) {\n\t\t\t\t\tmarkers[m].setIcon(icon);\n\t\t\t\t}\n\t\t\t\tvar cnt = i + 1;\n\t\t\t\t//infowindow.setContent(document.querySelector('.events-map__item_' + cnt).innerHTML);\n\t\t\t\t//infowindow.open(map, marker);\n\t\t\t\tmarker.setIcon(icon);\n\t\t\t\tmap.setCenterWithOffset(marker.getPosition(), 0, 0);\n\t\t\t\tsetTimeout(function () {\n\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t})(marker, i));\n\t\tmarkers.push(marker);\n\t}\n\tif (n) {\n\t\tvar nc = n - 1;\n\t\tsetTimeout(function () {\n\t\t\tgoogle.maps.event.trigger(markers[nc], 'click');\n\t\t}, 500);\n\t}\n}\nfunction mapAdd() {\n    const API_KEY = 'AIzaSyDXAw45Va1r3T6QDLaPFnL_r2EqdPQ7KW0'\n\tlet tag = document.createElement('script');\n    tag.async = true\n    tag.defer = true\n    tag.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&callback=initMap`\n\t//tag.src = \"https://maps.google.com/maps/api/js?sensor=false&amp;key=AIzaSyDXAw45Va1r3T6QDLaPFnL_r2EqdPQ7KW0&callback=mapInit\";\n\tlet wrapper = document.querySelector('.wrapper');\n\twrapper.insertAdjacentElement('beforeend', tag)\n}\nif (document.querySelector('#map')) {\n    window.initMap = initMap\n\tmapAdd();\n    //setTimeout(() => initMap(), 5000)\n}\n\n\n/* YA\nfunction map(n) {\n\tymaps.ready(init);\n\tfunction init() {\n\t\t// Создание карты.\n\t\tvar myMap = new ymaps.Map(\"map\", {\n\t\t\t// Координаты центра карты.\n\t\t\t// Порядок по умолчанию: «широта, долгота».\n\t\t\t// Чтобы не определять координаты центра карты вручную,\n\t\t\t// воспользуйтесь инструментом Определение координат.\n\t\t\tcontrols: [],\n\t\t\tcenter: [43.585525, 39.723062],\n\t\t\t// Уровень масштабирования. Допустимые значения:\n\t\t\t// от 0 (весь мир) до 19.\n\t\t\tzoom: 10\n\t\t});\n\n\t\tlet myPlacemark = new ymaps.Placemark([43.585525, 39.723062], {\n\t\t},{\n\t\t\t// Опции.\n\t\t\t//balloonContentHeader: 'Mistoun',\n\t\t\t//balloonContentBody: 'Москва, Николоямская 40с1',\n\t\t\t//balloonContentFooter: '+ 7(495) 507-54 - 90',\n\t\t\t//hasBalloon: true,\n\t\t\t//hideIconOnBalloonOpen: true,\n\n\t\t\thasBalloon: false,\n\t\t\thideIconOnBalloonOpen: false,\n\t\t\t// Необходимо указать данный тип макета.\n\t\t\ticonLayout: 'default#imageWithContent',\n\t\t\t// Своё изображение иконки метки.\n\t\t\ticonImageHref: 'img/icons/map.svg',\n\t\t\t// Размеры метки.\n\t\t\ticonImageSize: [40, 40],\n\t\t\t// Смещение левого верхнего угла иконки относительно\n\t\t\t// её \"ножки\" (точки привязки).\n\t\t\ticonImageOffset: [-20, -20],\n\t\t\t// Смещение слоя с содержимым относительно слоя с картинкой.\n\t\t\ticonContentOffset: [0, 0],\n\t\t});\n\t\tmyMap.geoObjects.add(myPlacemark);\n\n\t\tmyMap.behaviors.disable('scrollZoom');\n\t\tmyMap.behaviors.disable('drag');\n\t}\n}\n*/","// Импорт функционала ====================================================================================================================================================================================================================================================================================================\r\n// Вспомогательные функции\r\n// import { isMobile } from \"../functions.js\";\r\n//==============================================================================================================================================================================================================================================================================================================================\r\n\r\n/* \r\nМодуль плавной проктутки к блоку\r\nДокументация:\r\n*/\r\n\r\n// Подключение дополнения \r\n//import \"../../libs/smoothScroll.js\";\r\n// Функция\r\nexport let gotoBlock = (targetBlock, noHeader = false, speed = 500, offset = 0) => {\r\n\tlet headerItem = '';\r\n\t//OffsetHeader\r\n\tif (noHeader) {\r\n\t\theaderItem = 'header.header';\r\n\t}\r\n\tlet options = {\r\n\t\tspeedAsDuration: true,\r\n\t\tspeed: speed,\r\n\t\theader: headerItem,\r\n\t\toffset: offset,\r\n\t\teasing: 'easeOutQuad',\r\n\t};\r\n\tconst targetBlockElement = document.querySelector(targetBlock);\r\n\ttargetBlockElement ? new SmoothScroll().animateScroll(targetBlockElement, '', options) : console.log(`[gotoBlock] - Такого блока нет: ${targetBlock}`);\r\n};","export const isView = (el) => {\n    !el.classList.contains('is-view') ? el.classList.add('is-view') : null\n}\nexport const addHide = (el) => {\n    !el.classList.contains('is-hide') ? el.classList.add('is-hide') : null\n}\nexport const removeHide = (el) => {\n    el.classList.contains('is-hide') ? el.classList.remove('is-hide') : null\n}\nexport const isClass = (el, cls) => {\n    let root \n    if(el.classList.contains(cls)) {\n        root = el\n    } else {\n        this.isClass()\n    }\n    \n    return root \n}","export default class ScrollObserver {\n    constructor (element = null, animationIn = null, animationOut = null, options = {}, reverse = false) {\n        if(typeof element === 'string') {\n            this.element = document.querySelectorAll(element)\n        } else {\n            this.element = element\n        }\n        this.animationIn = animationIn\n        this.animationOut = animationOut\n        this.options = options // 1.0 - (100% element scroll) 0.9 - 90%(100% element scroll)\n        this.reverse = reverse\n\n        this.createObserver()\n        this.$subscribe()\n    }\n\n    createObserver () {\n\n        this.observer = new window.IntersectionObserver(entries => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    if(this.animationIn !== null) {\n                        this.animationIn(entry.target)\n                        if (this.reverse === false) {\n                            this.observer.unobserve(entry.target)\n                        }\n                    }\n                } else {\n                    if(this.animationOut !== null) {\n                        this.animationOut(entry.target)\n                    }\n                }\n            })\n        }, this.options)\n        \n    }\n\n    $subscribe () {\n        if(this.element instanceof NodeList) {\n            this.element.forEach(el => {\n                this.observer.observe(el)\n            })\n        } else if(this.element instanceof Array) {\n            Array.from(this.element).forEach(el => {\n                this.observer.observe(el)\n            })\n        }\n        else {\n            this.observer.observe(this.element)\n        }\n    }\n\n    $unsubscribe () {}\n    \n}\n\n// * DOC \n// import ScrollObserver from './classes/ScrollObserver.js'\n// new ScrollObserver(this.scrollIsViewElements, this.isView, null, options)","import ScrollObserver from './ScrollObserver.js'\nimport { addHide, removeHide } from '../../components/app/app.functions.js'\n\nexport default class MovingTiters {\n    constructor(options) {\n        if(typeof options.dom === 'string') {\n            this.titers = document.querySelectorAll(options.dom)\n        } else {\n            this.titers = options.dom\n        }\n\n        this.createTiters()\n    }\n\n    createTiters() {\n        if( this.titers.length ) {\n            this.titers.forEach( item => {\n                return titersSpeed(item);\n            })\n            window.addEventListener('resize', () => {\n                this.titers.forEach( item => {\n                    return titersSpeed(item);\n                })\n            })\n        }\n    \n        function titersSpeed(titers) {\n            let lists = titers.querySelectorAll('.titers__list');\n            const options = {\n                threshold: 0\n            }\n\n            lists.forEach( list => {\n                let speed = list.hasAttribute('data-speed') ? list.dataset.speed : 50;\n                let res = parseInt(list.offsetWidth / speed);\n                list.style.animationDuration = res + 's';\n                new ScrollObserver(list, removeHide, addHide, options, true)\n            })\n        }\n    }\n}\n\n// * DOC\n//import  MovingTiters from './classes/MovingTiters.js'\n// new MovingTiters({\n//     dom: document.querySelectorAll('.titers')\n// })","import { isTarget, removeClasses, bodyLockStatus, bodyLockToggle, _slideUp } from '../../core/utils/functions.js'\r\nimport { gotoBlock } from '../../core/scroll/gotoblock.js'\r\nimport { isView } from './app.functions.js'\r\nimport MovingTiters from '../../core/classes/MovingTiters.js'\r\nimport ScrollObserver from '../../core/classes/ScrollObserver.js'\r\n\r\nexport default class App {\r\n    constructor () {\r\n        this.scrollElements = document.querySelectorAll('[data-scroll]') ?? null\r\n        this.motionVideo = document.querySelectorAll('[data-motion]') ?? null\r\n        \r\n        this.init()\r\n    }\r\n    \r\n    init () {\r\n        this.onResize()\r\n        this.domCalculate()\r\n        this.addEventListeners()\r\n        this.scrollAnimation()\r\n\r\n        new MovingTiters({\r\n            dom: '.titers'\r\n        })\r\n    }\r\n\r\n\r\n\r\n    /*\r\n        * Prepare\r\n    */\r\n    domCalculate () {\r\n    }\r\n\r\n\r\n\r\n    /*\r\n        * Animation\r\n    */\r\n    scrollAnimation () {\r\n        if(this.scrollElements.length > 0) {\r\n            const options = {\r\n                threshold: 0\r\n            }\r\n\r\n            this.scrollElements.forEach(item =>  item.getAttribute('data-scroll') ? options.threshold = item.getAttribute('data-scroll') : null)\r\n            \r\n            new ScrollObserver(this.scrollElements, isView, null, options)\r\n        }\r\n        if(this.motionVideo.length > 0) {\r\n            const options = {\r\n                threshold: 0\r\n            }\r\n\r\n            this.motionVideo.forEach(item =>  item.getAttribute('data-scroll') ? options.threshold = item.getAttribute('data-scroll') : null)\r\n\r\n            const handlerPlay = (el) => {\r\n                if (el.paused) {\r\n                    el.play()\r\n                }\r\n            }\r\n\r\n            const handlerPouse = (el) => {\r\n                if (!el.paused) {\r\n                    el.pause()\r\n                }\r\n            }\r\n            \r\n            new ScrollObserver(this.motionVideo, handlerPlay, handlerPouse, options, true)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /*\r\n        * Handlers\r\n    */\r\n    onResize () {\r\n        this.domCalculate()\r\n    }\r\n    onClick (e) {\r\n        const targetElement = e.target\r\n\r\n        /*\r\n            * Anchor\r\n        */\r\n        const $anchorLink = isTarget(targetElement, '[data-anchor]')\r\n        if ($anchorLink) {\r\n            gotoBlock($anchorLink.getAttribute(\"href\"))\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n        /*  \r\n            * Header Spollers\r\n        */\r\n        const $targetHeaderSpoller = isTarget(targetElement, '.header [data-spoller]')\r\n        if (!$targetHeaderSpoller) {\r\n            removeClasses('.header [data-spoller]', '_spoller-active')\r\n            _slideUp('.header [data-spoller] + *', 500);\r\n        }\r\n\r\n        /*  \r\n            * Popup hidden input\r\n        */\r\n        const $productId = isTarget(targetElement, '[data-product-id]')\r\n        if($productId) {\r\n            const buyPopup = document.querySelector('[data-popup=\"buyPopup\"]')\r\n            const popupInputHidden = buyPopup.querySelector('input[type=\"hidden\"]')\r\n            const id = $productId.getAttribute('data-product-id')\r\n\r\n            if(id && popupInputHidden) {\r\n                popupInputHidden.value = id\r\n            }\r\n        }\r\n\r\n        /*  \r\n            * Price check\r\n        */\r\n        const $priceCheck = isTarget(targetElement, '[data-price-check]')\r\n        if($priceCheck) {\r\n            const $priceOptions = $priceCheck.closest('[data-price-options')\r\n            const $priceOut = $priceOptions.nextElementSibling\r\n            const $priceCheckboses = $priceOptions.querySelectorAll('[data-price-check]')\r\n\r\n            if($priceCheckboses) {\r\n                $priceCheckboses.forEach(checkbox => {\r\n                    checkbox.checked = false\r\n                })\r\n                $priceCheck.checked = true\r\n            }\r\n\r\n            if($priceCheck.dataset.value && $priceOut) {\r\n                $priceOut.textContent = $priceCheck.dataset.value\r\n            }\r\n        }\r\n\r\n        /*  \r\n            * Video play\r\n        */\r\n        const $videoComponent = isTarget(targetElement, '[data-video]')\r\n        if ($videoComponent) {\r\n            const $videoElement = $videoComponent.querySelector('[data-src]')\r\n            const $videoCover = $videoComponent.querySelector('[data-video-cover]')\r\n\r\n            if ($videoElement.paused && !$videoElement.hasAttribute('src')) {\r\n                $videoCover.hidden = true\r\n                $videoElement.src = $videoElement.dataset.src\r\n                $videoElement.play()\r\n            }\r\n        }\r\n\r\n        /*  \r\n            * Search form\r\n        */\r\n        const $searchTrigger = isTarget(targetElement, '[data-search-trigger]')\r\n        const $searchClose = isTarget(targetElement, '[data-search-close]')\r\n        const $searchForm = document.querySelector('[data-search-form]')\r\n        if ($searchTrigger) {\r\n            $searchForm.classList.toggle('js-active')\r\n        }\r\n        if ($searchClose) {\r\n            $searchForm.classList.toggle('js-active')\r\n        }\r\n\r\n        /*  \r\n            * Menu\r\n        */\r\n        const $pageBurger = isTarget(targetElement, '[data-burger]')\r\n        const $headerMenu = document.querySelector('[data-mobile-menu]')\r\n        const $submenu = document.querySelector('.submenu')\r\n\r\n        if ($pageBurger && $headerMenu) {\r\n            if (bodyLockStatus) {\r\n                bodyLockToggle();\r\n                $headerMenu.classList.toggle('js-open');\r\n                $pageBurger.classList.toggle('js-open');\r\n                $submenu.classList.toggle('d-none');\r\n            }\r\n        }\r\n    }\r\n   \r\n\r\n\r\n    /*\r\n        * Events\r\n    */\r\n    addEventListeners () {\r\n        document.addEventListener('click', this.onClick.bind(this))\r\n        window.addEventListener('resize', this.onResize.bind(this))\r\n    }\r\n    removeEventListeners () {\r\n    }\r\n}\r\n\r\n","//import { bodyLockStatus, bodyLockToggle } from '../../core/utils/functions.js'\n\nexport default class Sketch {\n    constructor (options) {\n        this.container = options.domElement\n        this.fadeElement = options.fadeElement\n\n        this.width = this.container.offsetWidth\n        this.height = this.container.offsetHeight\n\n        this.camera = new THREE.PerspectiveCamera( 75, this.width / this.height, 0.1, 100 )\n\t    this.camera.position.z = 1\n\n\t    this.scene = new THREE.Scene()\n\n        this.renderer = new THREE.WebGLRenderer({ \n            antialias: true,\n            alpha: true\n        })\n        this.renderer.physicallyCorrectLights = true\n        this.renderer.outputEncoding = THREE.sRGBEncoding\n        this.renderer.toneMapping = THREE.ReinhardToneMapping\n        this.renderer.toneMappingExposure = 3\n        this.renderer.shadowMap.enabled = true\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap\n        this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n\n        this.container.appendChild( this.renderer.domElement )\n\n        this.controls = new THREE.OrbitControls( this.camera, this.renderer.domElement )\n        this.enableZoom = false\n        this.controls.zoomSpeed = false\n        this.controls.enableDamping = true\n        this.controls.minAzimuthAngle = -(Math.PI * 0.5)\n        this.controls.maxAzimuthAngle = Math.PI * 0.5\n\n        this.time = 0\n\n        this.addLoaders()\n        this.resize()\n        this.addModel()\n        this.addLights()\n        this.addEnvironmentMaps()\n        this.setupResize()\n        this.render()\n\n        if(window.innerWidth > 768) {\n            this.setModelPosition()\n        }\n    }\n\n    /*\n      * Loaders\n    */\n    addLoaders () {\n        this.loadingManager = new THREE.LoadingManager(\n            // Loaded\n            () =>\n            {\n                this.modelShow()\n                // if(window.innerWidth > 768) {\n                //     this.modelShow()\n                // } else {\n                //     this.modelShowMobile()\n                // }\n            },\n            // Progress\n            (itemUrl, itemsLoaded, itemsTotal) =>\n            {\n                //console.log(itemsTotal)\n            }\n        )\n\n        this.cubeTextureLoader = new THREE.CubeTextureLoader()\n    }\n\n    /*\n      * 3d models\n    */\n    addModel () {\n        const dracoLoader = new THREE.DRACOLoader(this.loadingManager)\n        dracoLoader.setDecoderPath('/others/draco/')\n\n        const gltfLoader = new THREE.GLTFLoader(this.loadingManager)\n        gltfLoader.setDRACOLoader(dracoLoader)\n\n        gltfLoader.load('/others/model.glb', (gltf) => {\n            this.model = gltf.scene\n            this.model.position.set(0, 0, -0.5)\n            this.controls.target.set(0, 0, -0.5)\n            this.scene.add(this.model)\n            \n            this.updateAllMaterials()\n        })\n    }\n\n    /*\n      * Lights\n    */\n    addLights () {\n        // ambient\n        this.ambientLight = new THREE.AmbientLight(0xffffff, 0.1)\n        this.scene.add(this.ambientLight)\n\n        // directional\n        this.directionalLight = new THREE.DirectionalLight(0xa121ce, 0.3)\n        this.scene.add(this.directionalLight)\n    }\n\n    /*\n      * Resize\n    */\n    resize () {\n        this.width = this.container.offsetWidth\n        this.height = this.container.offsetHeight\n        this.renderer.setSize( this.width, this.height )\n        this.camera.aspect = this.width / this.height\n        this.camera.updateProjectionMatrix()\n    }\n    setupResize () {\n        window.addEventListener('resize', this.resize.bind(this))\n    }\n\n    /*\n      * Utils\n    */\n    updateAllMaterials () {\n        this.scene.traverse((child) =>\n        {\n            if(child instanceof THREE.Mesh && child.material instanceof THREE.MeshStandardMaterial)\n            {\n                child.material.envMapIntensity = 0.3\n                child.material.needsUpdate = true\n                child.castShadow = true\n                child.receiveShadow = true\n            }\n        })\n    }\n\n    addEnvironmentMaps () {\n        this.environmentMap = this.cubeTextureLoader.load([\n            '/others/textures/environmentMaps/nx.jpg',\n            '/others/textures/environmentMaps/ny.jpg',\n            '/others/textures/environmentMaps/nz.jpg',\n            '/others/textures/environmentMaps/px.jpg',\n            '/others/textures/environmentMaps/py.jpg',\n            '/others/textures/environmentMaps/pz.jpg'\n        ])\n        this.environmentMap.encoding = THREE.sRGBEncoding\n        this.scene.environment = this.environmentMap\n    }\n\n    setModelPosition () {\n        gsap.set(this.container, {\n            y: '50%',\n            scale: 1.5\n        })\n    }\n\n    modelShow () {\n        const modelMotionTimeline = gsap.timeline()\n\n        modelMotionTimeline.to('[data-preloader]', {\n            opacity: 0\n        })\n        modelMotionTimeline.to(this.container, {\n           duration: 2,\n           delay: 1,\n           y: '0',\n           x: () => {\n               if(window.innerWidth > 1024) {\n                   return '340'\n               } else {\n                   return '240'\n               }\n           },\n           scale: 1,\n           ease: Power3.easeOut   \n        })\n        modelMotionTimeline.to(this.model.rotation, {\n            duration: 2,\n            ease: Power3.easeOut,\n            x: -0.75,\n            y: 0.25\n        }, '-=0.5')\n        modelMotionTimeline.to(this.model.rotation, {\n            duration: 1.5,\n            x: 0,\n            y: 0\n        })\n        modelMotionTimeline.call(_ => {\n            this.fadeElement.classList.add('show')\n            // if (bodyLockStatus) {\n            //     bodyLockToggle()\n            // }\n        })\n    }\n    modelShowMobile () {\n        const modelMotionTimeline = gsap.timeline()\n\n        modelMotionTimeline.to('[data-preloader]', {\n            opacity: 0\n        })\n        modelMotionTimeline.to(this.model.rotation, {\n            duration: 2,\n            ease: Power3.easeOut,\n            x: -0.75,\n            y: 0.25\n        }, '-=0.5')\n        modelMotionTimeline.to(this.model.rotation, {\n            duration: 1.5,\n            x: 0,\n            y: 0\n        })\n        modelMotionTimeline.call(_ => {\n            this.fadeElement.classList.add('show')\n            // if (bodyLockStatus) {\n            //     bodyLockToggle()\n            // }\n        })\n    }\n\n    /*\n      * Render\n    */\n    render () {\n        this.time += 0.05\n\n        this.controls.update()\n\n\t    this.renderer.render( this.scene, this.camera )\n\n        window.requestAnimationFrame(this.render.bind(this))\n    }\n}","import * as functions from \"./core/utils/functions.js\"\r\nimport * as forms from \"./core/forms/forms.js\"\r\n//import * as scroll from \"./core/scroll/scroll.js\"\r\n//import './core/scroll/lazyload.js'\r\n\r\nimport './core/utils/inline-svg.js'\r\nimport './core/scroll/lazyload.js'\r\nimport \"./core/utils/sliders.js\"\r\nimport \"./core/forms/select.js\"\r\nimport \"./core/utils/popups.js\"\r\nimport \"./core/utils/map.js\"\r\n//import './core/scroll/simplebar.js'\r\n//import \"./core/utils/tippy.js\"\r\n//import \"./core/forms/nouislider.js\"\r\n\r\nimport App from './components/app/App.js'\r\nimport Sketch from './components/3d/Sketch.js'\r\n\r\nimport \"../scss/style.scss\"\r\n\r\n\r\n/* \r\n    * GLOBAL VARIABLES\r\n*/\r\nconst $html = document.documentElement\r\n\r\n/*\r\n    * INIT CORE ELEMENTS\r\n*/\r\nfunctions.spollers()\r\n//functions.tabs()\r\n//functions.tabsAdaptive()\r\nforms.formFieldsInit()\r\nforms.formSubmit(true)\r\n//forms.formPricerange()\r\n//forms.formQuantity()\r\n//scroll.windowScroll() // => pin header\r\n//functions.isWebp()\r\n//functions.addTouchClass()\r\n//functions.addLoadedClass()\r\n//functions.fullVHfix()\r\n//forms.formViewpass()\r\n//forms.formRating()\r\n// scroll.scrollWatcher(false)\r\n// scroll.pageNavigation()\r\n\r\n/*\r\n    * INIT COMPONENTS\r\n*/\r\nwindow.addEventListener('load', event => {\r\n    setTimeout(function () {\r\n        const mainCanvas = document.querySelector('#canvas-main')\r\n        const fadeElement = document.querySelector('[data-fade-in]')\r\n\r\n        $html.classList.add('loaded')\r\n        new App()\r\n\r\n        if(mainCanvas && window.innerWidth > 992) {\r\n            new Sketch({\r\n                domElement: mainCanvas,\r\n                fadeElement\r\n            })\r\n        }\r\n    }, 0)\r\n})\r\n\r\n"],"names":[],"sourceRoot":""}